{"version":3,"sources":["webpack:///./src/views/FaceRecognition.vue?9156","webpack:///./src/components/FaceDetection.vue?5094","webpack:///src/components/FaceDetection.vue","webpack:///./src/components/FaceDetection.vue?be75","webpack:///./src/components/FaceDetection.vue?0a73","webpack:///src/views/FaceRecognition.vue","webpack:///./src/views/FaceRecognition.vue?4633","webpack:///./src/views/FaceRecognition.vue","webpack:///./src/components/HelloWorld.vue?1e55","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./node_modules/q/q.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./src/components/upload_download.vue?3d80","webpack:///./src/views/UploadSmithKey.vue?cb8e","webpack:///./src/components/UploadSmithKey.vue?2e7b","webpack:///src/components/UploadSmithKey.vue","webpack:///./src/components/UploadSmithKey.vue?1004","webpack:///./src/components/UploadSmithKey.vue?644c","webpack:///src/views/UploadSmithKey.vue","webpack:///./src/views/UploadSmithKey.vue?58f4","webpack:///./src/views/UploadSmithKey.vue","webpack:///./src/views/Home.vue?1528","webpack:///./src/components/HelloWorld.vue?d71a","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?4efa","webpack:///./src/components/HelloWorld.vue?f177","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/components/FaceDetection.vue?29d5","webpack:///./src/assets/logo.png","webpack:///./src/components/UploadSmithKey.vue?8cd5","webpack:///./src/views/todo.vue?87ce","webpack:///./src/components/todo_comp.vue?1edb","webpack:///src/components/todo_comp.vue","webpack:///./src/components/todo_comp.vue?d382","webpack:///./src/components/todo_comp.vue","webpack:///./src/components/todo_rest.vue?b4fc","webpack:///src/components/todo_rest.vue","webpack:///./src/components/todo_rest.vue?810d","webpack:///./src/components/todo_rest.vue","webpack:///src/views/todo.vue","webpack:///./src/views/todo.vue?6917","webpack:///./src/views/todo.vue","webpack:///./src/views/About.vue?1ea7","webpack:///./src/components/upload_download.vue?c664","webpack:///src/components/upload_download.vue","webpack:///./src/components/upload_download.vue?38d2","webpack:///./src/components/upload_download.vue?5808","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?f1da","webpack:///./src/views/About.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","FaceDetectionvue_type_template_id_313442ff_scoped_true_render","detected","_e","attrs","id","fluid","align-center","justify-center","row","fill-height","xs1","name","scale","xs10","_v","grid-list-md","text-xs-center","current_instruction","command","length","_s","icon","ref","width","display_size","height","autoplay","on","play","detect_and_draw_faces","xs4","FaceDetectionvue_type_template_id_313442ff_scoped_true_staticRenderFns","FaceDetectionvue_type_script_lang_js_","components","v-fa-icon","Icon","vueDropzone","vue2Dropzone_default","a","data","detections","temp_detections","capture_file_count","resizedDetections","confirmed_user","refresh_time","left_right_turning_ratio","up_slope_threshold","down_slope_threshold","mouth_threshold","eyebrow_threshold","instructions","liveness_detection_status","left_right_status","up_down_status","expression","mouth","eyebrow","liveness_test_instructions","watch","new_val","old_val","console","log","mounted","load_faceapi_models","start_video","generate_liveness_test","computed","session_id","$store","state","user_name_in_key","methods","shuffleArray","array","i","j","Math","floor","random","_ref","match_known_descriptor","liveness_test","test","result","neutral_l_r_pose","neutral_u_d_pose","neutral_mouth","generate_face_descriptor","Promise","all","es6","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","faceExpressionNet","then","navigator","getUserMedia","video","stream","srcObject","err","error","self","canvas","$refs","canvas_capture","context","getContext","clearRect","box","detection","drawImage","x","y","face_location","top","right","bottom","left","toBlob","_ref2","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","blob","formData","wrap","_context","prev","next","FormData","append","axios","url","$API_URL","method","stop","_x","apply","arguments","_this","response","match","user","show_capture","main","_callee2","message2","message","_context2","withFaceLandmarks","withFaceExpressions","sent","mouth_eye_status","head_pose_estimation","find_expression","annotation","clear","shift","_ref4","_ref4$clear","_ref4$message","_ref4$message2","canvas_flip","drawFaceLandmarks","box_X_flipped","boxOptions","label","lineWidth","boxColor","drawBox","DrawBox","draw","text","anchor","bottomLeft","anchor_X_flipped","textOptions","anchorPosition","backgroundColor","drawText","DrawTextField","expressions","likely_expression","keys","reduce","expression_possibility","String","landmarks","landmarkPositions","positions","right_face_distance","values","left_face_distance","right_to_left_face_ratio","chin_slope_left","chin_slope_right","chin_slope_average","mouth_y","mouth_x","mouth_aspect_ratio","l_eyebrow_eye_d","r_eyebrow_eye_d","l_eye_w","r_eye_w","eyebrow_d_eye_w_ratio","download_face_descriptor","detections_json","JSON","stringify","Blob","type","FileSaver_min_default","saveAs","components_FaceDetectionvue_type_script_lang_js_","component","componentNormalizer","FaceDetection","FaceRecognitionvue_type_script_lang_js_","views_FaceRecognitionvue_type_script_lang_js_","FaceRecognition_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_style_index_0_id_0b11c2c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HelloWorld_vue_vue_type_style_index_0_id_0b11c2c6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","toObject","$keys","it","anObject","toLength","advanceStringIndex","regExpExec","defined","MATCH","$match","maybeCallNative","regexp","O","fn","undefined","call","RegExp","res","done","value","rx","S","global","fullUnicode","unicode","lastIndex","A","matchStr","process","definition","bootstrap","module","exports","hasStacks","Error","e","stack","qFileName","qStartingLine","captureLine","noop","nextTick","head","task","tail","flushing","requestTick","isNodeJS","laterQueue","flush","domain","enter","runSingle","pop","exit","setTimeout","toString","setImmediate","window","bind","MessageChannel","channel","port1","onmessage","requestPortTick","port2","postMessage","runAfter","push","Function","uncurryThis","f","QReturnValue","array_slice","Array","prototype","slice","array_reduce","callback","basis","index","TypeError","array_indexOf","indexOf","array_map","map","thisp","collect","object_create","create","Type","object_defineProperty","defineProperty","obj","prop","descriptor","object_hasOwnProperty","hasOwnProperty","object_keys","object","key","object_toString","isObject","isStopIteration","exception","ReturnValue","STACK_JUMP_SEPARATOR","makeStackTraceLong","promise","stacks","p","source","__minimumStackCounter__","stackCounter","configurable","unshift","concatedStacks","join","filterStackString","stackString","lines","split","desiredLines","line","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","exec","Number","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qEndingLine","firstLine","deprecate","alternative","warn","Q","isPromiseAlike","coerce","fulfill","resolve","longStackSupport","longStackCounter","defer","resolvedPromise","messages","progressListeners","deferred","promiseDispatch","op","operands","args","valueOf","nearerValue","nearer","isPromise","inspect","substring","become","newPromise","reject","reason","notify","progress","progressListener","resolver","race","answerPs","len","fallback","inspected","when","fulfilled","rejected","progressed","isPending","isFulfilled","isRejected","NODE_ENV","VUE_APP_API","VUE_APP_CLI_UI_URL","BASE_URL","Q_DEBUG","makeNodeResolver","passByCopy","that","spread","makePromise","_fulfilled","_rejected","newException","_progressed","newValue","threw","onerror","tap","fcall","thenResolve","thenReject","unhandledReasons","unhandledRejections","reportedUnhandledRejections","trackUnhandledRejections","resetUnhandledRejections","trackRejection","emit","untrackRejection","at","atReport","splice","rejection","get","set","rhs","delete","post","master","isDef","dispatch","async","makeGenerator","continuer","verb","arg","StopIteration","generator","errback","spawn","_return","promised","promises","pendingCount","snapshot","any","current","onFulfilled","onRejected","onProgress","allResolved","allSettled","nodeify","nodeback","getUnhandledReasons","stopUnhandledRejectionTracking","del","mapply","send","mcall","invoke","fapply","fbind","concat","regardless","fail","fin","onUnhandledError","timeout","ms","timeoutId","code","clearTimeout","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke","noConflict","DESCRIPTORS","getKeys","toIObject","isEnum","isEntries","scope","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","close","unref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","$export","core","fails","KEY","exp","F","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","installNextTickImplementation","canUsePostMessage","installPostMessageImplementation","installMessageChannelImplementation","createElement","installReadyStateChangeImplementation","installSetTimeoutImplementation","handle","run","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","messagePrefix","onGlobalMessage","event","addEventListener","attachEvent","html","documentElement","script","onreadystatechange","removeChild","appendChild","$values","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_upload_download_vue_vue_type_style_index_0_scope_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_upload_download_vue_vue_type_style_index_0_scope_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","UploadSmithKeyvue_type_template_id_f42385b4_render","xs8","options","dropzoneOptions","useCustomSlot","vdropzone-sending","upload_smith_key","vdropzone-removed-file","remove_file","vdropzone-success","success_upload_key","UploadSmithKeyvue_type_template_id_f42385b4_staticRenderFns","UploadSmithKeyvue_type_script_lang_js_","addRemoveLinks","thumbnailWidth","maxFilesize","maxFiles","file","xhr","myVueDropzone","dropzone","disabled","components_UploadSmithKeyvue_type_script_lang_js_","UploadSmithKey","views_UploadSmithKeyvue_type_script_lang_js_","src_views_UploadSmithKeyvue_type_script_lang_js_","UploadSmithKey_component","alt","src","msg","HelloWorldvue_type_template_id_0b11c2c6_scoped_true_render","_m","HelloWorldvue_type_template_id_0b11c2c6_scoped_true_staticRenderFns","href","target","rel","HelloWorldvue_type_script_lang_js_","props","components_HelloWorldvue_type_script_lang_js_","HelloWorld","Homevue_type_script_lang_js_","views_Homevue_type_script_lang_js_","Home_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FaceDetection_vue_vue_type_style_index_0_id_313442ff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FaceDetection_vue_vue_type_style_index_0_id_313442ff_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UploadSmithKey_vue_vue_type_style_index_0_scope_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UploadSmithKey_vue_vue_type_style_index_0_scope_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","todo_compvue_type_template_id_8ff9bec8_render","directives","rawName","placeholder","domProps","keyup","$event","_k","keyCode","add_todo","input","composing","new_todo","click","_l","todo","update_todo","$set","checked","isArray","_i","change","$$a","$$el","$$c","$$v","$$i","remove_todo","todo_compvue_type_template_id_8ff9bec8_staticRenderFns","todo_compvue_type_script_lang_js_","todos","content","new_todo_id","components_todo_compvue_type_script_lang_js_","todo_comp","todo_restvue_type_template_id_5827b6a6_render","large","dark","color","read_todo","route","clearable","keydown","delete_","model","small","fab","todo_restvue_type_template_id_5827b6a6_staticRenderFns","todo_restvue_type_script_lang_js_","task_done","filter","_this2","components_todo_restvue_type_script_lang_js_","todo_rest_component","todo_rest","todovue_type_script_lang_js_","views_todovue_type_script_lang_js_","todo_component","upload_downloadvue_type_template_id_3ef39fec_render","xs12","upload_complete","removeAllFiles","download_file","toggle","active_file","image_location","change_file","textContent","upload_downloadvue_type_template_id_3ef39fec_staticRenderFns","upload_downloadvue_type_script_lang_js_","dictDefaultMessage","existing_files","read_existing_files","descriptor_json","descriptor_user","salt2","responseType","filename","headers","filetype","components_upload_downloadvue_type_script_lang_js_","upload_download","Aboutvue_type_script_lang_js_","views_Aboutvue_type_script_lang_js_","About_component"],"mappings":"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","file":"js/about.c9c820b4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"todo\"},[_c('FaceDetection')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.detected)?_c('v-container',{attrs:{\"id\":\"overlay\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"row\":\"\",\"fill-height\":\"\",\"id\":\"overlay_content\"}},[_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-fa-icon',{attrs:{\"name\":\"robot\",\"scale\":\"3\"}})],1),_c('v-flex',{attrs:{\"xs10\":\"\"}},[_c('label',{staticClass:\"display-3\"},[_vm._v(\"AI is getting ready, let the camera see you\")])]),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-fa-icon',{attrs:{\"name\":\"camera\",\"scale\":\"3\"}})],1)],1)],1):_vm._e(),_c('v-container',{attrs:{\"grid-list-md\":\"\",\"text-xs-center\":\"\",\"fluid\":\"\"}},[(_vm.current_instruction.command.length != 0)?_c('v-layout',{staticClass:\"display-2\",attrs:{\"justify-center\":\"\"}},[_c('label',[_vm._v(\"\\n        Instruction: \"+_vm._s(_vm.current_instruction.command)+\"\\n        \"),_c('v-fa-icon',{attrs:{\"name\":_vm.current_instruction.icon,\"scale\":\"3\"}})],1)]):_vm._e(),_c('v-layout',{attrs:{\"justify-center\":\"\"}},[(true)?_c('video',{ref:\"video\",attrs:{\"id\":\"video\",\"width\":_vm.display_size.width,\"height\":_vm.display_size.height,\"autoplay\":\"\"},on:{\"play\":_vm.detect_and_draw_faces}}):_vm._e(),_c('canvas',{ref:\"canvas_flip\",attrs:{\"id\":\"canvas_flip\",\"width\":_vm.display_size.width,\"height\":_vm.display_size.height}}),_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"width\":_vm.display_size.width,\"height\":_vm.display_size.height}}),_c('canvas',{ref:\"canvas_capture\",attrs:{\"id\":\"canvas_capture\",\"width\":_vm.display_size.width,\"height\":_vm.display_size.height}})]),_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-container id=\"overlay\" fluid v-if=\"!detected\">\r\n      <v-layout align-center justify-center row fill-height id=\"overlay_content\">\r\n        <v-flex xs1>\r\n          <v-fa-icon name=\"robot\" scale=\"3\"/>\r\n        </v-flex>\r\n        <v-flex xs10>\r\n          <label class=\"display-3\">AI is getting ready, let the camera see you</label>\r\n        </v-flex>\r\n        <v-flex xs1>\r\n          <v-fa-icon name=\"camera\" scale=\"3\"/>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n    <v-container grid-list-md text-xs-center fluid>\r\n      <v-layout justify-center v-if=\"current_instruction.command.length != 0\" class=\"display-2\">\r\n        <label>\r\n          Instruction: {{current_instruction.command}}\r\n          <v-fa-icon :name=\"current_instruction.icon\" scale=\"3\"/>\r\n        </label>\r\n      </v-layout>\r\n      <v-layout justify-center>\r\n        <video\r\n          id=\"video\"\r\n          ref=\"video\"\r\n          :width=\"display_size.width\"\r\n          :height=\"display_size.height\"\r\n          v-if=\"true\"\r\n          autoplay\r\n          @play=\"detect_and_draw_faces\"\r\n        ></video>\r\n\r\n        <canvas\r\n          id=\"canvas_flip\"\r\n          ref=\"canvas_flip\"\r\n          :width=\"display_size.width\"\r\n          :height=\"display_size.height\"\r\n        />\r\n        <canvas id=\"canvas\" ref=\"canvas\" :width=\"display_size.width\" :height=\"display_size.height\"/>\r\n        <!-- third canvas just for image capturing -->\r\n        <canvas\r\n          id=\"canvas_capture\"\r\n          ref=\"canvas_capture\"\r\n          :width=\"display_size.width\"\r\n          :height=\"display_size.height\"\r\n        />\r\n      </v-layout>\r\n      <v-layout align-center justify-center>\r\n        <v-flex xs4></v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// useful tutorial: https://www.youtube.com/watch?v=CVClHLwv-4I&feature=youtu.be\r\n// https://github.com/WebDevSimplified/Face-Detection-JavaScript/blob/master/script.js\r\n\r\nimport * as faceapi from \"face-api.js\";\r\nimport { async } from \"q\";\r\nimport { setTimeout, setInterval } from \"timers\";\r\nimport FileSaver from \"file-saver\";\r\nimport Icon from \"vue-awesome/components/Icon\";\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\r\n\r\nexport default {\r\n  name: \"FaceDetection\",\r\n  components: {\r\n    \"v-fa-icon\": Icon,\r\n    vueDropzone: vue2Dropzone\r\n  },\r\n  data: function() {\r\n    return {\r\n      display_size: { width: 640, height: 480 },\r\n      detections: [],\r\n      temp_detections: [],\r\n      capture_file_count: 0,\r\n      detected: false,\r\n      resizedDetections: [],\r\n      confirmed_user: \"\",\r\n      refresh_time: 50,\r\n      // determine sensitivity for left and right face, higher = more turning needed\r\n      left_right_turning_ratio: 2,\r\n      // determine sensitivity for look up, higher = more turning needed\r\n      up_slope_threshold: -0.1,\r\n      down_slope_threshold: -0.55,\r\n      // larger the more opening\r\n      mouth_threshold: 0.7,\r\n      // larger the more opening\r\n      eyebrow_threshold: 1.0,\r\n      // List of available instructions\r\n      instructions: [\r\n        { command: \"Turn Left!\", icon: \"arrow-alt-circle-left\" },\r\n        { command: \"Turn Right!\", icon: \"arrow-alt-circle-right\" },\r\n        { command: \"Look Up!\", icon: \"arrow-alt-circle-up\" },\r\n        { command: \"Look Down!\", icon: \"arrow-alt-circle-down\" },\r\n        { command: \"Smile!\", icon: \"laugh\" },\r\n        { command: \"Open mouth!\", icon: \"teeth-open\" }\r\n\r\n        // \"Raise eyebrows!\"\r\n      ],\r\n      current_instruction: { command: \"\", icon: \"\" },\r\n      liveness_detection_status: {\r\n        left_right_status: \"neutral\",\r\n        up_down_status: \"neutral\",\r\n        expression: \"neutral\",\r\n        mouth: \"neutral\",\r\n        eyebrow: \"neutral\"\r\n      },\r\n      liveness_test_instructions: []\r\n    };\r\n  },\r\n  watch: {\r\n    temp_detections: function(new_val, old_val) {\r\n      console.log(new_val);\r\n    }\r\n  },\r\n  mounted: function() {\r\n    this.load_faceapi_models();\r\n    this.start_video();\r\n    this.generate_liveness_test();\r\n  },\r\n  computed: {\r\n    session_id() {\r\n      // session_id should be sent to all the axios request to backend now\r\n      return this.$store.state.session_id;\r\n    },\r\n      user_name_in_key(){\r\n      return this.$store.state.user_name_in_key;\r\n    }\r\n  },\r\n  methods: {\r\n    generate_liveness_test: function() {\r\n      // DEBUG: add a timer for each test?\r\n      function shuffleArray(array) {\r\n        for (let i = array.length - 1; i > 0; i--) {\r\n          const j = Math.floor(Math.random() * (i + 1));\r\n          [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n      }\r\n      if (this.instructions.length == 0) {\r\n        console.log(\"you are a human!\");\r\n        this.current_instruction.command = \"\";\r\n        this.match_known_descriptor();\r\n      } else {\r\n        shuffleArray(this.instructions);\r\n        this.current_instruction = this.instructions[0];\r\n      }\r\n    },\r\n    liveness_test: function() {\r\n      var test = this.current_instruction.command;\r\n      var result = this.liveness_detection_status;\r\n      // use the neutral pose to ensure we don't get false detection\r\n      var neutral_l_r_pose = result.left_right_status == \"neutral\";\r\n      var neutral_u_d_pose = result.up_down_status == \"neutral\";\r\n      var neutral_mouth = result.mouth == \"neutral\";\r\n\r\n      if (test == \"Turn Left!\" && result.left_right_status == \"left\") {\r\n        this.generate_face_descriptor();\r\n        return true;\r\n      } else if (test == \"Turn Right!\" && result.left_right_status == \"right\") {\r\n        this.generate_face_descriptor();\r\n        return true;\r\n      } else if (\r\n        test == \"Look Up!\" &&\r\n        result.up_down_status == \"up\" &&\r\n        neutral_l_r_pose &&\r\n        neutral_mouth\r\n      ) {\r\n        this.generate_face_descriptor();\r\n        return true;\r\n      } else if (\r\n        test == \"Look Down!\" &&\r\n        result.up_down_status == \"down\" &&\r\n        neutral_l_r_pose &&\r\n        neutral_mouth\r\n      ) {\r\n        this.generate_face_descriptor();\r\n        return true;\r\n      } else if (\r\n        test == \"Smile!\" &&\r\n        result.expression == \"happy\" &&\r\n        neutral_l_r_pose &&\r\n        neutral_u_d_pose\r\n      ) {\r\n        this.generate_face_descriptor();\r\n        return true;\r\n      } else if (\r\n        test == \"Open mouth!\" &&\r\n        result.mouth == \"open\" &&\r\n        neutral_l_r_pose\r\n      ) {\r\n        this.generate_face_descriptor();\r\n        return true;\r\n      }\r\n      // } else if (\r\n      //   test == \"Raise eyebrows!\" &&\r\n      //   result.eyebrow == \"raised\" &&\r\n      //   neutral_l_r_pose &&\r\n      //   neutral_u_d_pose\r\n      // ) {\r\n      //   return true;\r\n      // }\r\n    },\r\n\r\n    load_faceapi_models: function() {\r\n      // save the models to the public/models\r\n      // faceapi.nets.ssdMobilenetv1.loadFromUri(\"/models\"),\r\n      Promise.all([\r\n        faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\"),\r\n        faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\r\n        faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"),\r\n        faceapi.nets.faceExpressionNet.loadFromUri(\"/models\")\r\n      ]).then(console.log(\"model loaded\"));\r\n    },\r\n    start_video: function() {\r\n      navigator.getUserMedia(\r\n        { video: {} },\r\n        stream => (video.srcObject = stream),\r\n        err => console.error(err)\r\n      );\r\n    },\r\n    generate_face_descriptor: function() {\r\n      // https://x-team.com/blog/webcam-capture-vue/\r\n      let self = this;\r\n      if (self.detections) {\r\n        // keep track how many images we have captured\r\n        self.capture_file_count += 1;\r\n        // console.log(this.detections);\r\n        console.log(self.capture_file_count);\r\n        const canvas = self.$refs.canvas_capture;\r\n        var context = canvas.getContext(\"2d\");\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        var box = self.detections.detection.box;\r\n        // giving some padding so we dont crop too much which gives problem to backend\r\n        console.log(box)\r\n        console.log([canvas.width, canvas.height])\r\n\r\n\r\n        // Sending the face with cropped region \r\n        // drawImage from the video stream, with cropping\r\n        context.drawImage(\r\n          self.$refs.video,\r\n          box.x,\r\n          box.y,\r\n          box.width,\r\n          box.height,\r\n          box.x,\r\n          box.y,\r\n          box.width,\r\n          box.height\r\n        );\r\n\r\n        // // sending the whole image \r\n        //   context.drawImage(\r\n        //   self.$refs.video,\r\n        //   0, 0, self.display_size['width'], self.display_size['height']\r\n        // );\r\n\r\n        // // // sending the face_location to backend to save some repetition \r\n        // // // top, right, bottom, left\r\n        const face_location = [box.top, box.right, box.bottom, box.left]\r\n\r\n\r\n\r\n\r\n        // Saving canvas to local drive is easy: https://github.com/eligrey/FileSaver.js/\r\n        self.$refs.canvas_capture.toBlob(async function(blob) {\r\n          // result = await faceapi.bufferToImage(blob).\r\n          // upload Blob as a form to the flask backend and generate descriptors\r\n          // https://github.com/pagekit/vue-resource/blob/master/docs/recipes.md\r\n          let formData = new FormData();\r\n          // formData.append(name, value, filename);\r\n          formData.append(\r\n            \"file\",\r\n            blob,\r\n            \"unknown_face_\" + self.capture_file_count + \".jpg\"\r\n          );\r\n          formData.append(\"session_id\", self.session_id);\r\n          formData.append(\"face_location\", face_location);\r\n          self.axios({\r\n            url: self.$API_URL + \"/generate_descriptor\",\r\n            method: \"POST\",\r\n            data: formData\r\n          });\r\n        });\r\n      }\r\n    },\r\n    match_known_descriptor: function() {\r\n      this.axios({\r\n        url: this.$API_URL + \"/compare_descriptors\",\r\n        method: \"POST\",\r\n        data: {session_id: this.session_id}\r\n      }).then(response => {\r\n        if (response.data.match) {\r\n          this.confirmed_user = response.data.user;\r\n        }\r\n      });\r\n    },\r\n    show_capture: function() {\r\n      console.log(this.temp_detections);\r\n    },\r\n    detect_and_draw_faces: function() {\r\n      console.log(\"start detecting faces\");\r\n      // https://michaelnthiessen.com/this-is-undefined/\r\n      // https://stackoverflow.com/questions/47148363/when-to-use-vm-or-this-in-vue-js\r\n      // arrow function is a pain in vue.js and this async function also seems to cause problem\r\n      let self = this;\r\n\r\n      setInterval(async function() {\r\n        //  After face detection and facial landmark prediction the face descriptors\r\n        //  all the results are stored in self.detections\r\n        self.detections = await faceapi\r\n          .detectSingleFace(\r\n            self.$refs.video,\r\n            new faceapi.TinyFaceDetectorOptions()\r\n          )\r\n          .withFaceLandmarks()\r\n          .withFaceExpressions();\r\n        // calculating the 128 descriptors seems to be rather slow, lets not do it very frequent or do it in backend\r\n        // .withFaceDescriptors();\r\n\r\n        if (self.detections) {\r\n          self.detected = true;\r\n          // calculated the size that is on our canvas size\r\n          const resizedDetections = faceapi.resizeResults(\r\n            self.detections,\r\n            self.display_size\r\n          );\r\n\r\n          // replace the result with scaled one, all the other information will remain\r\n          self.detections = resizedDetections;\r\n\r\n          // call other methods\r\n          self.mouth_eye_status();\r\n          self.head_pose_estimation();\r\n          self.find_expression();\r\n\r\n          // annotation\r\n          var message2 = [\r\n            \"L/R: \" + self.liveness_detection_status.left_right_status,\r\n            \"U/D: \" + self.liveness_detection_status.up_down_status,\r\n            \"Expression: \" + self.liveness_detection_status.expression,\r\n            \"mouth: \" + self.liveness_detection_status.mouth,\r\n            \"eyebrow: \" + self.liveness_detection_status.eyebrow\r\n          ];\r\n          var message = \"Hello\";\r\n          // only append the username after liveness test\r\n          if (self.instructions.length == 0 && self.confirmed_user != \"\") {\r\n            message = \"Hello: \" + self.user_name_in_key + \"!\";\r\n          } else if (\r\n            self.instructions.length == 0 &&\r\n            self.confirmed_user == \"\"\r\n          ) {\r\n            message = \"Hello: Stranger! Maybe you are not who you claim to be\";\r\n          }\r\n\r\n          self.annotation({\r\n            clear: false,\r\n            message: message,\r\n            message2: message2\r\n          });\r\n\r\n          // liveness test is passed, we move on with next test\r\n          if (self.instructions.length != 0) {\r\n            if (self.liveness_test()) {\r\n              self.instructions.shift();\r\n              self.generate_liveness_test();\r\n              console.log(\"Passed one test, now move on!\");\r\n            }\r\n          }\r\n        } else {\r\n          self.annotation({ clear: true });\r\n        }\r\n      }, self.refresh_time);\r\n    },\r\n    // note how to use named arguments in javascript...\r\n    annotation: function({ clear = false, message = \"Hello!\", message2 = [] }) {\r\n      var canvas = this.$refs.canvas;\r\n      var canvas_flip = this.$refs.canvas_flip;\r\n\r\n      // clear canvas before drawing the new things to prevent cluttering\r\n      canvas.getContext(\"2d\").clearRect(0, 0, canvas.width, canvas.height);\r\n      canvas_flip\r\n        .getContext(\"2d\")\r\n        .clearRect(0, 0, canvas_flip.width, canvas_flip.height);\r\n\r\n      // set to clear when no face can be found\r\n      if (clear === false) {\r\n        // NOTE: There are some useful drawing functions already exist\r\n        faceapi.draw.drawFaceLandmarks(canvas_flip, this.detections);\r\n\r\n        // Draw box around the face with 1 line text\r\n        const box = this.detections.detection.box;\r\n        // mirror X\r\n        const box_X_flipped = {\r\n          x: canvas.width - box.x - box.width,\r\n          y: box.y,\r\n          width: box.width,\r\n          height: box.height\r\n        };\r\n        // see DrawBoxOptions below\r\n        const boxOptions = {\r\n          label: message,\r\n          lineWidth: 2,\r\n          boxColor: \"rgba(57,255,20,0.8)\"\r\n        };\r\n        // flip the x-value x, y, width, height\r\n        const drawBox = new faceapi.draw.DrawBox(box_X_flipped, boxOptions);\r\n        drawBox.draw(canvas);\r\n\r\n        // ------- multi-line text at bottom -------\r\n        if (message2.length != 0) {\r\n          const text = message2;\r\n          const anchor = this.detections.detection.box.bottomLeft;\r\n          const anchor_X_flipped = {\r\n            x: canvas.width - anchor.x - box.width,\r\n            y: anchor.y\r\n          };\r\n          // see DrawTextField below\r\n          const textOptions = {\r\n            anchorPosition: \"TOP_LEFT\",\r\n            backgroundColor: \"rgba(57,255,20, 0.5)\"\r\n          };\r\n          const drawText = new faceapi.draw.DrawTextField(\r\n            text,\r\n            anchor_X_flipped,\r\n            textOptions\r\n          );\r\n          drawText.draw(canvas);\r\n        }\r\n      }\r\n    },\r\n    find_expression: function() {\r\n      var expressions = this.detections.expressions;\r\n      // find the max value of all the keys\r\n      // The reducer function takes four arguments: Accumulator (acc), Current Value (cur), Current Index (idx)\r\n      // the question mark is conditional operator, which returns true_val:false_val\r\n      var likely_expression = Object.keys(expressions).reduce((i, j) =>\r\n        expressions[i] > expressions[j] ? i : j\r\n      );\r\n      var expression_possibility = expressions[likely_expression];\r\n      this.liveness_detection_status[\"expression\"] = likely_expression;\r\n\r\n      return likely_expression + \":\" + String(expression_possibility);\r\n    },\r\n    head_pose_estimation: function() {\r\n      const landmarks = this.detections.landmarks;\r\n      const landmarkPositions = landmarks.positions;\r\n\r\n      // the distance between 1 and 28 will be shorter when extending left face\r\n      const right_face_distance = faceapi.euclideanDistance(\r\n        Object.values(landmarkPositions[16]),\r\n        Object.values(landmarkPositions[28])\r\n      );\r\n      const left_face_distance = faceapi.euclideanDistance(\r\n        Object.values(landmarkPositions[0]),\r\n        Object.values(landmarkPositions[28])\r\n      );\r\n      const right_to_left_face_ratio = right_face_distance / left_face_distance;\r\n\r\n      // the point 6 - 12 become more flat when facing upward. calculate the slope\r\n      const chin_slope_left =\r\n        (landmarkPositions[5].y - landmarkPositions[8].y) /\r\n        (landmarkPositions[8].x - landmarkPositions[5].x);\r\n      const chin_slope_right =\r\n        (landmarkPositions[11].y - landmarkPositions[8].y) /\r\n        (landmarkPositions[11].x - landmarkPositions[8].x);\r\n      const chin_slope_average = (chin_slope_left + chin_slope_right) / 2;\r\n      // NOTE: make this vue variable\r\n\r\n      if (\r\n        right_to_left_face_ratio > 1 / this.left_right_turning_ratio &&\r\n        right_to_left_face_ratio < this.left_right_turning_ratio\r\n      ) {\r\n        this.liveness_detection_status[\"left_right_status\"] = \"neutral\";\r\n      } else if (right_to_left_face_ratio > this.left_right_turning_ratio) {\r\n        this.liveness_detection_status[\"left_right_status\"] = \"right\";\r\n      } else if (right_to_left_face_ratio < 1 / this.left_right_turning_ratio) {\r\n        this.liveness_detection_status[\"left_right_status\"] = \"left\";\r\n      }\r\n      if (chin_slope_average > this.up_slope_threshold) {\r\n        this.liveness_detection_status[\"up_down_status\"] = \"up\";\r\n      } else if (chin_slope_average < this.down_slope_threshold) {\r\n        this.liveness_detection_status[\"up_down_status\"] = \"down\";\r\n      } else {\r\n        this.liveness_detection_status[\"up_down_status\"] = \"neutral\";\r\n      }\r\n    },\r\n    mouth_eye_status: function() {\r\n      //  https://towardsdatascience.com/mouse-control-facial-movements-hci-app-c16b0494a971\r\n      var landmarks = this.detections.landmarks;\r\n      const landmarkPositions = landmarks.positions;\r\n      // https://www.pyimagesearch.com/2017/04/24/eye-blink-detection-opencv-python-dlib/\r\n      const mouth_y = faceapi.euclideanDistance(\r\n        Object.values(landmarkPositions[51]),\r\n        Object.values(landmarkPositions[57])\r\n      );\r\n      const mouth_x = faceapi.euclideanDistance(\r\n        Object.values(landmarkPositions[54]),\r\n        Object.values(landmarkPositions[48])\r\n      );\r\n      const mouth_aspect_ratio = mouth_y / mouth_x;\r\n      if (mouth_aspect_ratio > this.mouth_threshold) {\r\n        this.liveness_detection_status.mouth = \"open\";\r\n      } else {\r\n        this.liveness_detection_status.mouth = \"neutral\";\r\n      }\r\n\r\n      //  ------------- eyebrow measurment: use the distance between eyebrow and eye vs\r\n      // the width of the eyes (rather constant)  to test whether the eyebrows are raised\r\n      const l_eyebrow_eye_d = faceapi.euclideanDistance(\r\n        Object.values(landmarkPositions[19]),\r\n        Object.values(landmarkPositions[37])\r\n      );\r\n      const r_eyebrow_eye_d = faceapi.euclideanDistance(\r\n        Object.values(landmarkPositions[24]),\r\n        Object.values(landmarkPositions[44])\r\n      );\r\n      // use eyebrow as a reference point\r\n      const l_eye_w = faceapi.euclideanDistance(\r\n        Object.values(landmarkPositions[39]),\r\n        Object.values(landmarkPositions[36])\r\n      );\r\n      const r_eye_w = faceapi.euclideanDistance(\r\n        Object.values(landmarkPositions[42]),\r\n        Object.values(landmarkPositions[45])\r\n      );\r\n      const eyebrow_d_eye_w_ratio =\r\n        (l_eyebrow_eye_d + r_eyebrow_eye_d) / (l_eye_w + r_eye_w);\r\n\r\n      if (eyebrow_d_eye_w_ratio > this.eyebrow_threshold) {\r\n        this.liveness_detection_status.eyebrow = \"raised\";\r\n      } else {\r\n        this.liveness_detection_status.eyebrow = \"neutral\";\r\n      }\r\n    },\r\n    download_face_descriptor: function() {\r\n      console.log(this.detections);\r\n      var detections_json = JSON.stringify(this.detections);\r\n      var blob = new Blob([detections_json], { type: \"application/json\" });\r\n      FileSaver.saveAs(blob, \"key.json\");\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\");\r\n\r\n#video {\r\n  position: absolute;\r\n  /* flip the image so it is more natural */\r\n  transform: scaleX(-1);\r\n}\r\n\r\n#canvas {\r\n  /* for some reason, we dont need both to be absolute? */\r\n  /* position: absolute; */\r\n  pointer-events: none;\r\n  z-index: 2;\r\n}\r\n\r\n#canvas_flip {\r\n  position: absolute;\r\n  pointer-events: none;\r\n  z-index: 2;\r\n  transform: scaleX(-1);\r\n}\r\n#canvas_capture {\r\n  /* we dont need to see it */\r\n  position: absolute;\r\n  display: none;\r\n  z-index: 3;\r\n  transform: scaleX(-1);\r\n}\r\n\r\n#overlay {\r\n  position: fixed;\r\n  width: 100%; /* Full width (cover the whole page) */\r\n  height: 100%; /* Full height (cover the whole page) */\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgb(0, 0, 0) center center no-repeat;\r\n  opacity: 1;\r\n  z-index: 5;\r\n}\r\n\r\n#overlay_content {\r\n  z-index: 6;\r\n  opacity: 0.8;\r\n  color: white;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceDetection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceDetection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FaceDetection.vue?vue&type=template&id=313442ff&scoped=true&\"\nimport script from \"./FaceDetection.vue?vue&type=script&lang=js&\"\nexport * from \"./FaceDetection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FaceDetection.vue?vue&type=style&index=0&id=313442ff&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"313442ff\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"todo\">\r\n    <FaceDetection/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport FaceDetection from \"@/components/FaceDetection.vue\";\r\n\r\nexport default {\r\n  name: \"face\",\r\n  components: {\r\n    FaceDetection,\r\n  },\r\n  mounted: function(){\r\n  },\r\n  methods: {\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceRecognition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceRecognition.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FaceRecognition.vue?vue&type=template&id=68ec82c4&\"\nimport script from \"./FaceRecognition.vue?vue&type=script&lang=js&\"\nexport * from \"./FaceRecognition.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=style&index=0&id=0b11c2c6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=style&index=0&id=0b11c2c6&scoped=true&lang=css&\"","// 19.1.2.14 Object.keys(O)\r\nvar toObject = require('./_to-object');\r\nvar $keys = require('./_object-keys');\r\n\r\nrequire('./_object-sap')('keys', function () {\r\n  return function keys(it) {\r\n    return $keys(toObject(it));\r\n  };\r\n});\r\n","'use strict';\r\n\r\nvar anObject = require('./_an-object');\r\nvar toLength = require('./_to-length');\r\nvar advanceStringIndex = require('./_advance-string-index');\r\nvar regExpExec = require('./_regexp-exec-abstract');\r\n\r\n// @@match logic\r\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\r\n  return [\r\n    // `String.prototype.match` method\r\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\r\n    function match(regexp) {\r\n      var O = defined(this);\r\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\r\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\r\n    },\r\n    // `RegExp.prototype[@@match]` method\r\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\r\n    function (regexp) {\r\n      var res = maybeCallNative($match, regexp, this);\r\n      if (res.done) return res.value;\r\n      var rx = anObject(regexp);\r\n      var S = String(this);\r\n      if (!rx.global) return regExpExec(rx, S);\r\n      var fullUnicode = rx.unicode;\r\n      rx.lastIndex = 0;\r\n      var A = [];\r\n      var n = 0;\r\n      var result;\r\n      while ((result = regExpExec(rx, S)) !== null) {\r\n        var matchStr = String(result[0]);\r\n        A[n] = matchStr;\r\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\r\n        n++;\r\n      }\r\n      return n === 0 ? null : A;\r\n    }\r\n  ];\r\n});\r\n","// vim:ts=4:sts=4:sw=4:\r\n/*!\r\n *\r\n * Copyright 2009-2017 Kris Kowal under the terms of the MIT\r\n * license found at https://github.com/kriskowal/q/blob/v1/LICENSE\r\n *\r\n * With parts by Tyler Close\r\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\r\n * at http://www.opensource.org/licenses/mit-license.html\r\n * Forked at ref_send.js version: 2009-05-11\r\n *\r\n * With parts by Mark Miller\r\n * Copyright (C) 2011 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n *\r\n */\r\n\r\n(function (definition) {\r\n    \"use strict\";\r\n\r\n    // This file will function properly as a <script> tag, or a module\r\n    // using CommonJS and NodeJS or RequireJS module formats.  In\r\n    // Common/Node/RequireJS, the module exports the Q API and when\r\n    // executed as a simple <script>, it creates a Q global instead.\r\n\r\n    // Montage Require\r\n    if (typeof bootstrap === \"function\") {\r\n        bootstrap(\"promise\", definition);\r\n\r\n    // CommonJS\r\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\r\n        module.exports = definition();\r\n\r\n    // RequireJS\r\n    } else if (typeof define === \"function\" && define.amd) {\r\n        define(definition);\r\n\r\n    // SES (Secure EcmaScript)\r\n    } else if (typeof ses !== \"undefined\") {\r\n        if (!ses.ok()) {\r\n            return;\r\n        } else {\r\n            ses.makeQ = definition;\r\n        }\r\n\r\n    // <script>\r\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\r\n        // Prefer window over self for add-on scripts. Use self for\r\n        // non-windowed contexts.\r\n        var global = typeof window !== \"undefined\" ? window : self;\r\n\r\n        // Get the `window` object, save the previous Q global\r\n        // and initialize Q as a global.\r\n        var previousQ = global.Q;\r\n        global.Q = definition();\r\n\r\n        // Add a noConflict function so Q can be removed from the\r\n        // global namespace.\r\n        global.Q.noConflict = function () {\r\n            global.Q = previousQ;\r\n            return this;\r\n        };\r\n\r\n    } else {\r\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\r\n    }\r\n\r\n})(function () {\r\n\"use strict\";\r\n\r\nvar hasStacks = false;\r\ntry {\r\n    throw new Error();\r\n} catch (e) {\r\n    hasStacks = !!e.stack;\r\n}\r\n\r\n// All code after this point will be filtered from stack traces reported\r\n// by Q.\r\nvar qStartingLine = captureLine();\r\nvar qFileName;\r\n\r\n// shims\r\n\r\n// used for fallback in \"allResolved\"\r\nvar noop = function () {};\r\n\r\n// Use the fastest possible means to execute a task in a future turn\r\n// of the event loop.\r\nvar nextTick =(function () {\r\n    // linked list of tasks (single, with head node)\r\n    var head = {task: void 0, next: null};\r\n    var tail = head;\r\n    var flushing = false;\r\n    var requestTick = void 0;\r\n    var isNodeJS = false;\r\n    // queue for late tasks, used by unhandled rejection tracking\r\n    var laterQueue = [];\r\n\r\n    function flush() {\r\n        /* jshint loopfunc: true */\r\n        var task, domain;\r\n\r\n        while (head.next) {\r\n            head = head.next;\r\n            task = head.task;\r\n            head.task = void 0;\r\n            domain = head.domain;\r\n\r\n            if (domain) {\r\n                head.domain = void 0;\r\n                domain.enter();\r\n            }\r\n            runSingle(task, domain);\r\n\r\n        }\r\n        while (laterQueue.length) {\r\n            task = laterQueue.pop();\r\n            runSingle(task);\r\n        }\r\n        flushing = false;\r\n    }\r\n    // runs a single function in the async queue\r\n    function runSingle(task, domain) {\r\n        try {\r\n            task();\r\n\r\n        } catch (e) {\r\n            if (isNodeJS) {\r\n                // In node, uncaught exceptions are considered fatal errors.\r\n                // Re-throw them synchronously to interrupt flushing!\r\n\r\n                // Ensure continuation if the uncaught exception is suppressed\r\n                // listening \"uncaughtException\" events (as domains does).\r\n                // Continue in next event to avoid tick recursion.\r\n                if (domain) {\r\n                    domain.exit();\r\n                }\r\n                setTimeout(flush, 0);\r\n                if (domain) {\r\n                    domain.enter();\r\n                }\r\n\r\n                throw e;\r\n\r\n            } else {\r\n                // In browsers, uncaught exceptions are not fatal.\r\n                // Re-throw them asynchronously to avoid slow-downs.\r\n                setTimeout(function () {\r\n                    throw e;\r\n                }, 0);\r\n            }\r\n        }\r\n\r\n        if (domain) {\r\n            domain.exit();\r\n        }\r\n    }\r\n\r\n    nextTick = function (task) {\r\n        tail = tail.next = {\r\n            task: task,\r\n            domain: isNodeJS && process.domain,\r\n            next: null\r\n        };\r\n\r\n        if (!flushing) {\r\n            flushing = true;\r\n            requestTick();\r\n        }\r\n    };\r\n\r\n    if (typeof process === \"object\" &&\r\n        process.toString() === \"[object process]\" && process.nextTick) {\r\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\r\n        // To see through fake Node environments:\r\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\r\n        // * Browserify - exposes a `process.nexTick` function that uses\r\n        //   `setTimeout`. In this case `setImmediate` is preferred because\r\n        //    it is faster. Browserify's `process.toString()` yields\r\n        //   \"[object Object]\", while in a real Node environment\r\n        //   `process.toString()` yields \"[object process]\".\r\n        isNodeJS = true;\r\n\r\n        requestTick = function () {\r\n            process.nextTick(flush);\r\n        };\r\n\r\n    } else if (typeof setImmediate === \"function\") {\r\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\r\n        if (typeof window !== \"undefined\") {\r\n            requestTick = setImmediate.bind(window, flush);\r\n        } else {\r\n            requestTick = function () {\r\n                setImmediate(flush);\r\n            };\r\n        }\r\n\r\n    } else if (typeof MessageChannel !== \"undefined\") {\r\n        // modern browsers\r\n        // http://www.nonblocking.io/2011/06/windownexttick.html\r\n        var channel = new MessageChannel();\r\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\r\n        // working message ports the first time a page loads.\r\n        channel.port1.onmessage = function () {\r\n            requestTick = requestPortTick;\r\n            channel.port1.onmessage = flush;\r\n            flush();\r\n        };\r\n        var requestPortTick = function () {\r\n            // Opera requires us to provide a message payload, regardless of\r\n            // whether we use it.\r\n            channel.port2.postMessage(0);\r\n        };\r\n        requestTick = function () {\r\n            setTimeout(flush, 0);\r\n            requestPortTick();\r\n        };\r\n\r\n    } else {\r\n        // old browsers\r\n        requestTick = function () {\r\n            setTimeout(flush, 0);\r\n        };\r\n    }\r\n    // runs a task after all other tasks have been run\r\n    // this is useful for unhandled rejection tracking that needs to happen\r\n    // after all `then`d tasks have been run.\r\n    nextTick.runAfter = function (task) {\r\n        laterQueue.push(task);\r\n        if (!flushing) {\r\n            flushing = true;\r\n            requestTick();\r\n        }\r\n    };\r\n    return nextTick;\r\n})();\r\n\r\n// Attempt to make generics safe in the face of downstream\r\n// modifications.\r\n// There is no situation where this is necessary.\r\n// If you need a security guarantee, these primordials need to be\r\n// deeply frozen anyway, and if you don’t need a security guarantee,\r\n// this is just plain paranoid.\r\n// However, this **might** have the nice side-effect of reducing the size of\r\n// the minified code by reducing x.call() to merely x()\r\n// See Mark Miller’s explanation of what this does.\r\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\r\nvar call = Function.call;\r\nfunction uncurryThis(f) {\r\n    return function () {\r\n        return call.apply(f, arguments);\r\n    };\r\n}\r\n// This is equivalent, but slower:\r\n// uncurryThis = Function_bind.bind(Function_bind.call);\r\n// http://jsperf.com/uncurrythis\r\n\r\nvar array_slice = uncurryThis(Array.prototype.slice);\r\n\r\nvar array_reduce = uncurryThis(\r\n    Array.prototype.reduce || function (callback, basis) {\r\n        var index = 0,\r\n            length = this.length;\r\n        // concerning the initial value, if one is not provided\r\n        if (arguments.length === 1) {\r\n            // seek to the first value in the array, accounting\r\n            // for the possibility that is is a sparse array\r\n            do {\r\n                if (index in this) {\r\n                    basis = this[index++];\r\n                    break;\r\n                }\r\n                if (++index >= length) {\r\n                    throw new TypeError();\r\n                }\r\n            } while (1);\r\n        }\r\n        // reduce\r\n        for (; index < length; index++) {\r\n            // account for the possibility that the array is sparse\r\n            if (index in this) {\r\n                basis = callback(basis, this[index], index);\r\n            }\r\n        }\r\n        return basis;\r\n    }\r\n);\r\n\r\nvar array_indexOf = uncurryThis(\r\n    Array.prototype.indexOf || function (value) {\r\n        // not a very good shim, but good enough for our one use of it\r\n        for (var i = 0; i < this.length; i++) {\r\n            if (this[i] === value) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n);\r\n\r\nvar array_map = uncurryThis(\r\n    Array.prototype.map || function (callback, thisp) {\r\n        var self = this;\r\n        var collect = [];\r\n        array_reduce(self, function (undefined, value, index) {\r\n            collect.push(callback.call(thisp, value, index, self));\r\n        }, void 0);\r\n        return collect;\r\n    }\r\n);\r\n\r\nvar object_create = Object.create || function (prototype) {\r\n    function Type() { }\r\n    Type.prototype = prototype;\r\n    return new Type();\r\n};\r\n\r\nvar object_defineProperty = Object.defineProperty || function (obj, prop, descriptor) {\r\n    obj[prop] = descriptor.value;\r\n    return obj;\r\n};\r\n\r\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\r\n\r\nvar object_keys = Object.keys || function (object) {\r\n    var keys = [];\r\n    for (var key in object) {\r\n        if (object_hasOwnProperty(object, key)) {\r\n            keys.push(key);\r\n        }\r\n    }\r\n    return keys;\r\n};\r\n\r\nvar object_toString = uncurryThis(Object.prototype.toString);\r\n\r\nfunction isObject(value) {\r\n    return value === Object(value);\r\n}\r\n\r\n// generator related shims\r\n\r\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\r\nfunction isStopIteration(exception) {\r\n    return (\r\n        object_toString(exception) === \"[object StopIteration]\" ||\r\n        exception instanceof QReturnValue\r\n    );\r\n}\r\n\r\n// FIXME: Remove this helper and Q.return once ES6 generators are in\r\n// SpiderMonkey.\r\nvar QReturnValue;\r\nif (typeof ReturnValue !== \"undefined\") {\r\n    QReturnValue = ReturnValue;\r\n} else {\r\n    QReturnValue = function (value) {\r\n        this.value = value;\r\n    };\r\n}\r\n\r\n// long stack traces\r\n\r\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\r\n\r\nfunction makeStackTraceLong(error, promise) {\r\n    // If possible, transform the error stack trace by removing Node and Q\r\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\r\n    if (hasStacks &&\r\n        promise.stack &&\r\n        typeof error === \"object\" &&\r\n        error !== null &&\r\n        error.stack\r\n    ) {\r\n        var stacks = [];\r\n        for (var p = promise; !!p; p = p.source) {\r\n            if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {\r\n                object_defineProperty(error, \"__minimumStackCounter__\", {value: p.stackCounter, configurable: true});\r\n                stacks.unshift(p.stack);\r\n            }\r\n        }\r\n        stacks.unshift(error.stack);\r\n\r\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\r\n        var stack = filterStackString(concatedStacks);\r\n        object_defineProperty(error, \"stack\", {value: stack, configurable: true});\r\n    }\r\n}\r\n\r\nfunction filterStackString(stackString) {\r\n    var lines = stackString.split(\"\\n\");\r\n    var desiredLines = [];\r\n    for (var i = 0; i < lines.length; ++i) {\r\n        var line = lines[i];\r\n\r\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\r\n            desiredLines.push(line);\r\n        }\r\n    }\r\n    return desiredLines.join(\"\\n\");\r\n}\r\n\r\nfunction isNodeFrame(stackLine) {\r\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\r\n           stackLine.indexOf(\"(node.js:\") !== -1;\r\n}\r\n\r\nfunction getFileNameAndLineNumber(stackLine) {\r\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\r\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\r\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\r\n    if (attempt1) {\r\n        return [attempt1[1], Number(attempt1[2])];\r\n    }\r\n\r\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\r\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\r\n    if (attempt2) {\r\n        return [attempt2[1], Number(attempt2[2])];\r\n    }\r\n\r\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\r\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\r\n    if (attempt3) {\r\n        return [attempt3[1], Number(attempt3[2])];\r\n    }\r\n}\r\n\r\nfunction isInternalFrame(stackLine) {\r\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\r\n\r\n    if (!fileNameAndLineNumber) {\r\n        return false;\r\n    }\r\n\r\n    var fileName = fileNameAndLineNumber[0];\r\n    var lineNumber = fileNameAndLineNumber[1];\r\n\r\n    return fileName === qFileName &&\r\n        lineNumber >= qStartingLine &&\r\n        lineNumber <= qEndingLine;\r\n}\r\n\r\n// discover own file name and line number range for filtering stack\r\n// traces\r\nfunction captureLine() {\r\n    if (!hasStacks) {\r\n        return;\r\n    }\r\n\r\n    try {\r\n        throw new Error();\r\n    } catch (e) {\r\n        var lines = e.stack.split(\"\\n\");\r\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\r\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\r\n        if (!fileNameAndLineNumber) {\r\n            return;\r\n        }\r\n\r\n        qFileName = fileNameAndLineNumber[0];\r\n        return fileNameAndLineNumber[1];\r\n    }\r\n}\r\n\r\nfunction deprecate(callback, name, alternative) {\r\n    return function () {\r\n        if (typeof console !== \"undefined\" &&\r\n            typeof console.warn === \"function\") {\r\n            console.warn(name + \" is deprecated, use \" + alternative +\r\n                         \" instead.\", new Error(\"\").stack);\r\n        }\r\n        return callback.apply(callback, arguments);\r\n    };\r\n}\r\n\r\n// end of shims\r\n// beginning of real work\r\n\r\n/**\r\n * Constructs a promise for an immediate reference, passes promises through, or\r\n * coerces promises from different systems.\r\n * @param value immediate reference or promise\r\n */\r\nfunction Q(value) {\r\n    // If the object is already a Promise, return it directly.  This enables\r\n    // the resolve function to both be used to created references from objects,\r\n    // but to tolerably coerce non-promises to promises.\r\n    if (value instanceof Promise) {\r\n        return value;\r\n    }\r\n\r\n    // assimilate thenables\r\n    if (isPromiseAlike(value)) {\r\n        return coerce(value);\r\n    } else {\r\n        return fulfill(value);\r\n    }\r\n}\r\nQ.resolve = Q;\r\n\r\n/**\r\n * Performs a task in a future turn of the event loop.\r\n * @param {Function} task\r\n */\r\nQ.nextTick = nextTick;\r\n\r\n/**\r\n * Controls whether or not long stack traces will be on\r\n */\r\nQ.longStackSupport = false;\r\n\r\n/**\r\n * The counter is used to determine the stopping point for building\r\n * long stack traces. In makeStackTraceLong we walk backwards through\r\n * the linked list of promises, only stacks which were created before\r\n * the rejection are concatenated.\r\n */\r\nvar longStackCounter = 1;\r\n\r\n// enable long stacks if Q_DEBUG is set\r\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\r\n    Q.longStackSupport = true;\r\n}\r\n\r\n/**\r\n * Constructs a {promise, resolve, reject} object.\r\n *\r\n * `resolve` is a callback to invoke with a more resolved value for the\r\n * promise. To fulfill the promise, invoke `resolve` with any value that is\r\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\r\n * thenable, or invoke `reject` with the reason directly. To resolve the\r\n * promise to another thenable, thus putting it in the same state, invoke\r\n * `resolve` with that other thenable.\r\n */\r\nQ.defer = defer;\r\nfunction defer() {\r\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\r\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\r\n    // element of the messages array is itself an array of complete arguments to\r\n    // forward to the resolved promise.  We coerce the resolution value to a\r\n    // promise using the `resolve` function because it handles both fully\r\n    // non-thenable values and other thenables gracefully.\r\n    var messages = [], progressListeners = [], resolvedPromise;\r\n\r\n    var deferred = object_create(defer.prototype);\r\n    var promise = object_create(Promise.prototype);\r\n\r\n    promise.promiseDispatch = function (resolve, op, operands) {\r\n        var args = array_slice(arguments);\r\n        if (messages) {\r\n            messages.push(args);\r\n            if (op === \"when\" && operands[1]) { // progress operand\r\n                progressListeners.push(operands[1]);\r\n            }\r\n        } else {\r\n            Q.nextTick(function () {\r\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\r\n            });\r\n        }\r\n    };\r\n\r\n    // XXX deprecated\r\n    promise.valueOf = function () {\r\n        if (messages) {\r\n            return promise;\r\n        }\r\n        var nearerValue = nearer(resolvedPromise);\r\n        if (isPromise(nearerValue)) {\r\n            resolvedPromise = nearerValue; // shorten chain\r\n        }\r\n        return nearerValue;\r\n    };\r\n\r\n    promise.inspect = function () {\r\n        if (!resolvedPromise) {\r\n            return { state: \"pending\" };\r\n        }\r\n        return resolvedPromise.inspect();\r\n    };\r\n\r\n    if (Q.longStackSupport && hasStacks) {\r\n        try {\r\n            throw new Error();\r\n        } catch (e) {\r\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\r\n            // accessor around; that causes memory leaks as per GH-111. Just\r\n            // reify the stack trace as a string ASAP.\r\n            //\r\n            // At the same time, cut off the first line; it's always just\r\n            // \"[object Promise]\\n\", as per the `toString`.\r\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\r\n            promise.stackCounter = longStackCounter++;\r\n        }\r\n    }\r\n\r\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\r\n    // consolidating them into `become`, since otherwise we'd create new\r\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\r\n\r\n    function become(newPromise) {\r\n        resolvedPromise = newPromise;\r\n\r\n        if (Q.longStackSupport && hasStacks) {\r\n            // Only hold a reference to the new promise if long stacks\r\n            // are enabled to reduce memory usage\r\n            promise.source = newPromise;\r\n        }\r\n\r\n        array_reduce(messages, function (undefined, message) {\r\n            Q.nextTick(function () {\r\n                newPromise.promiseDispatch.apply(newPromise, message);\r\n            });\r\n        }, void 0);\r\n\r\n        messages = void 0;\r\n        progressListeners = void 0;\r\n    }\r\n\r\n    deferred.promise = promise;\r\n    deferred.resolve = function (value) {\r\n        if (resolvedPromise) {\r\n            return;\r\n        }\r\n\r\n        become(Q(value));\r\n    };\r\n\r\n    deferred.fulfill = function (value) {\r\n        if (resolvedPromise) {\r\n            return;\r\n        }\r\n\r\n        become(fulfill(value));\r\n    };\r\n    deferred.reject = function (reason) {\r\n        if (resolvedPromise) {\r\n            return;\r\n        }\r\n\r\n        become(reject(reason));\r\n    };\r\n    deferred.notify = function (progress) {\r\n        if (resolvedPromise) {\r\n            return;\r\n        }\r\n\r\n        array_reduce(progressListeners, function (undefined, progressListener) {\r\n            Q.nextTick(function () {\r\n                progressListener(progress);\r\n            });\r\n        }, void 0);\r\n    };\r\n\r\n    return deferred;\r\n}\r\n\r\n/**\r\n * Creates a Node-style callback that will resolve or reject the deferred\r\n * promise.\r\n * @returns a nodeback\r\n */\r\ndefer.prototype.makeNodeResolver = function () {\r\n    var self = this;\r\n    return function (error, value) {\r\n        if (error) {\r\n            self.reject(error);\r\n        } else if (arguments.length > 2) {\r\n            self.resolve(array_slice(arguments, 1));\r\n        } else {\r\n            self.resolve(value);\r\n        }\r\n    };\r\n};\r\n\r\n/**\r\n * @param resolver {Function} a function that returns nothing and accepts\r\n * the resolve, reject, and notify functions for a deferred.\r\n * @returns a promise that may be resolved with the given resolve and reject\r\n * functions, or rejected by a thrown exception in resolver\r\n */\r\nQ.Promise = promise; // ES6\r\nQ.promise = promise;\r\nfunction promise(resolver) {\r\n    if (typeof resolver !== \"function\") {\r\n        throw new TypeError(\"resolver must be a function.\");\r\n    }\r\n    var deferred = defer();\r\n    try {\r\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\r\n    } catch (reason) {\r\n        deferred.reject(reason);\r\n    }\r\n    return deferred.promise;\r\n}\r\n\r\npromise.race = race; // ES6\r\npromise.all = all; // ES6\r\npromise.reject = reject; // ES6\r\npromise.resolve = Q; // ES6\r\n\r\n// XXX experimental.  This method is a way to denote that a local value is\r\n// serializable and should be immediately dispatched to a remote upon request,\r\n// instead of passing a reference.\r\nQ.passByCopy = function (object) {\r\n    //freeze(object);\r\n    //passByCopies.set(object, true);\r\n    return object;\r\n};\r\n\r\nPromise.prototype.passByCopy = function () {\r\n    //freeze(object);\r\n    //passByCopies.set(object, true);\r\n    return this;\r\n};\r\n\r\n/**\r\n * If two promises eventually fulfill to the same value, promises that value,\r\n * but otherwise rejects.\r\n * @param x {Any*}\r\n * @param y {Any*}\r\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\r\n * otherwise.\r\n *\r\n */\r\nQ.join = function (x, y) {\r\n    return Q(x).join(y);\r\n};\r\n\r\nPromise.prototype.join = function (that) {\r\n    return Q([this, that]).spread(function (x, y) {\r\n        if (x === y) {\r\n            // TODO: \"===\" should be Object.is or equiv\r\n            return x;\r\n        } else {\r\n            throw new Error(\"Q can't join: not the same: \" + x + \" \" + y);\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Returns a promise for the first of an array of promises to become settled.\r\n * @param answers {Array[Any*]} promises to race\r\n * @returns {Any*} the first promise to be settled\r\n */\r\nQ.race = race;\r\nfunction race(answerPs) {\r\n    return promise(function (resolve, reject) {\r\n        // Switch to this once we can assume at least ES5\r\n        // answerPs.forEach(function (answerP) {\r\n        //     Q(answerP).then(resolve, reject);\r\n        // });\r\n        // Use this in the meantime\r\n        for (var i = 0, len = answerPs.length; i < len; i++) {\r\n            Q(answerPs[i]).then(resolve, reject);\r\n        }\r\n    });\r\n}\r\n\r\nPromise.prototype.race = function () {\r\n    return this.then(Q.race);\r\n};\r\n\r\n/**\r\n * Constructs a Promise with a promise descriptor object and optional fallback\r\n * function.  The descriptor contains methods like when(rejected), get(name),\r\n * set(name, value), post(name, args), and delete(name), which all\r\n * return either a value, a promise for a value, or a rejection.  The fallback\r\n * accepts the operation name, a resolver, and any further arguments that would\r\n * have been forwarded to the appropriate method above had a method been\r\n * provided with the proper name.  The API makes no guarantees about the nature\r\n * of the returned object, apart from that it is usable whereever promises are\r\n * bought and sold.\r\n */\r\nQ.makePromise = Promise;\r\nfunction Promise(descriptor, fallback, inspect) {\r\n    if (fallback === void 0) {\r\n        fallback = function (op) {\r\n            return reject(new Error(\r\n                \"Promise does not support operation: \" + op\r\n            ));\r\n        };\r\n    }\r\n    if (inspect === void 0) {\r\n        inspect = function () {\r\n            return {state: \"unknown\"};\r\n        };\r\n    }\r\n\r\n    var promise = object_create(Promise.prototype);\r\n\r\n    promise.promiseDispatch = function (resolve, op, args) {\r\n        var result;\r\n        try {\r\n            if (descriptor[op]) {\r\n                result = descriptor[op].apply(promise, args);\r\n            } else {\r\n                result = fallback.call(promise, op, args);\r\n            }\r\n        } catch (exception) {\r\n            result = reject(exception);\r\n        }\r\n        if (resolve) {\r\n            resolve(result);\r\n        }\r\n    };\r\n\r\n    promise.inspect = inspect;\r\n\r\n    // XXX deprecated `valueOf` and `exception` support\r\n    if (inspect) {\r\n        var inspected = inspect();\r\n        if (inspected.state === \"rejected\") {\r\n            promise.exception = inspected.reason;\r\n        }\r\n\r\n        promise.valueOf = function () {\r\n            var inspected = inspect();\r\n            if (inspected.state === \"pending\" ||\r\n                inspected.state === \"rejected\") {\r\n                return promise;\r\n            }\r\n            return inspected.value;\r\n        };\r\n    }\r\n\r\n    return promise;\r\n}\r\n\r\nPromise.prototype.toString = function () {\r\n    return \"[object Promise]\";\r\n};\r\n\r\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\r\n    var self = this;\r\n    var deferred = defer();\r\n    var done = false;   // ensure the untrusted promise makes at most a\r\n                        // single call to one of the callbacks\r\n\r\n    function _fulfilled(value) {\r\n        try {\r\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\r\n        } catch (exception) {\r\n            return reject(exception);\r\n        }\r\n    }\r\n\r\n    function _rejected(exception) {\r\n        if (typeof rejected === \"function\") {\r\n            makeStackTraceLong(exception, self);\r\n            try {\r\n                return rejected(exception);\r\n            } catch (newException) {\r\n                return reject(newException);\r\n            }\r\n        }\r\n        return reject(exception);\r\n    }\r\n\r\n    function _progressed(value) {\r\n        return typeof progressed === \"function\" ? progressed(value) : value;\r\n    }\r\n\r\n    Q.nextTick(function () {\r\n        self.promiseDispatch(function (value) {\r\n            if (done) {\r\n                return;\r\n            }\r\n            done = true;\r\n\r\n            deferred.resolve(_fulfilled(value));\r\n        }, \"when\", [function (exception) {\r\n            if (done) {\r\n                return;\r\n            }\r\n            done = true;\r\n\r\n            deferred.resolve(_rejected(exception));\r\n        }]);\r\n    });\r\n\r\n    // Progress propagator need to be attached in the current tick.\r\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\r\n        var newValue;\r\n        var threw = false;\r\n        try {\r\n            newValue = _progressed(value);\r\n        } catch (e) {\r\n            threw = true;\r\n            if (Q.onerror) {\r\n                Q.onerror(e);\r\n            } else {\r\n                throw e;\r\n            }\r\n        }\r\n\r\n        if (!threw) {\r\n            deferred.notify(newValue);\r\n        }\r\n    }]);\r\n\r\n    return deferred.promise;\r\n};\r\n\r\nQ.tap = function (promise, callback) {\r\n    return Q(promise).tap(callback);\r\n};\r\n\r\n/**\r\n * Works almost like \"finally\", but not called for rejections.\r\n * Original resolution value is passed through callback unaffected.\r\n * Callback may return a promise that will be awaited for.\r\n * @param {Function} callback\r\n * @returns {Q.Promise}\r\n * @example\r\n * doSomething()\r\n *   .then(...)\r\n *   .tap(console.log)\r\n *   .then(...);\r\n */\r\nPromise.prototype.tap = function (callback) {\r\n    callback = Q(callback);\r\n\r\n    return this.then(function (value) {\r\n        return callback.fcall(value).thenResolve(value);\r\n    });\r\n};\r\n\r\n/**\r\n * Registers an observer on a promise.\r\n *\r\n * Guarantees:\r\n *\r\n * 1. that fulfilled and rejected will be called only once.\r\n * 2. that either the fulfilled callback or the rejected callback will be\r\n *    called, but not both.\r\n * 3. that fulfilled and rejected will not be called in this turn.\r\n *\r\n * @param value      promise or immediate reference to observe\r\n * @param fulfilled  function to be called with the fulfilled value\r\n * @param rejected   function to be called with the rejection exception\r\n * @param progressed function to be called on any progress notifications\r\n * @return promise for the return value from the invoked callback\r\n */\r\nQ.when = when;\r\nfunction when(value, fulfilled, rejected, progressed) {\r\n    return Q(value).then(fulfilled, rejected, progressed);\r\n}\r\n\r\nPromise.prototype.thenResolve = function (value) {\r\n    return this.then(function () { return value; });\r\n};\r\n\r\nQ.thenResolve = function (promise, value) {\r\n    return Q(promise).thenResolve(value);\r\n};\r\n\r\nPromise.prototype.thenReject = function (reason) {\r\n    return this.then(function () { throw reason; });\r\n};\r\n\r\nQ.thenReject = function (promise, reason) {\r\n    return Q(promise).thenReject(reason);\r\n};\r\n\r\n/**\r\n * If an object is not a promise, it is as \"near\" as possible.\r\n * If a promise is rejected, it is as \"near\" as possible too.\r\n * If it’s a fulfilled promise, the fulfillment value is nearer.\r\n * If it’s a deferred promise and the deferred has been resolved, the\r\n * resolution is \"nearer\".\r\n * @param object\r\n * @returns most resolved (nearest) form of the object\r\n */\r\n\r\n// XXX should we re-do this?\r\nQ.nearer = nearer;\r\nfunction nearer(value) {\r\n    if (isPromise(value)) {\r\n        var inspected = value.inspect();\r\n        if (inspected.state === \"fulfilled\") {\r\n            return inspected.value;\r\n        }\r\n    }\r\n    return value;\r\n}\r\n\r\n/**\r\n * @returns whether the given object is a promise.\r\n * Otherwise it is a fulfilled value.\r\n */\r\nQ.isPromise = isPromise;\r\nfunction isPromise(object) {\r\n    return object instanceof Promise;\r\n}\r\n\r\nQ.isPromiseAlike = isPromiseAlike;\r\nfunction isPromiseAlike(object) {\r\n    return isObject(object) && typeof object.then === \"function\";\r\n}\r\n\r\n/**\r\n * @returns whether the given object is a pending promise, meaning not\r\n * fulfilled or rejected.\r\n */\r\nQ.isPending = isPending;\r\nfunction isPending(object) {\r\n    return isPromise(object) && object.inspect().state === \"pending\";\r\n}\r\n\r\nPromise.prototype.isPending = function () {\r\n    return this.inspect().state === \"pending\";\r\n};\r\n\r\n/**\r\n * @returns whether the given object is a value or fulfilled\r\n * promise.\r\n */\r\nQ.isFulfilled = isFulfilled;\r\nfunction isFulfilled(object) {\r\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\r\n}\r\n\r\nPromise.prototype.isFulfilled = function () {\r\n    return this.inspect().state === \"fulfilled\";\r\n};\r\n\r\n/**\r\n * @returns whether the given object is a rejected promise.\r\n */\r\nQ.isRejected = isRejected;\r\nfunction isRejected(object) {\r\n    return isPromise(object) && object.inspect().state === \"rejected\";\r\n}\r\n\r\nPromise.prototype.isRejected = function () {\r\n    return this.inspect().state === \"rejected\";\r\n};\r\n\r\n//// BEGIN UNHANDLED REJECTION TRACKING\r\n\r\n// This promise library consumes exceptions thrown in handlers so they can be\r\n// handled by a subsequent promise.  The exceptions get added to this array when\r\n// they are created, and removed when they are handled.  Note that in ES6 or\r\n// shimmed environments, this would naturally be a `Set`.\r\nvar unhandledReasons = [];\r\nvar unhandledRejections = [];\r\nvar reportedUnhandledRejections = [];\r\nvar trackUnhandledRejections = true;\r\n\r\nfunction resetUnhandledRejections() {\r\n    unhandledReasons.length = 0;\r\n    unhandledRejections.length = 0;\r\n\r\n    if (!trackUnhandledRejections) {\r\n        trackUnhandledRejections = true;\r\n    }\r\n}\r\n\r\nfunction trackRejection(promise, reason) {\r\n    if (!trackUnhandledRejections) {\r\n        return;\r\n    }\r\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\r\n        Q.nextTick.runAfter(function () {\r\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\r\n                process.emit(\"unhandledRejection\", reason, promise);\r\n                reportedUnhandledRejections.push(promise);\r\n            }\r\n        });\r\n    }\r\n\r\n    unhandledRejections.push(promise);\r\n    if (reason && typeof reason.stack !== \"undefined\") {\r\n        unhandledReasons.push(reason.stack);\r\n    } else {\r\n        unhandledReasons.push(\"(no stack) \" + reason);\r\n    }\r\n}\r\n\r\nfunction untrackRejection(promise) {\r\n    if (!trackUnhandledRejections) {\r\n        return;\r\n    }\r\n\r\n    var at = array_indexOf(unhandledRejections, promise);\r\n    if (at !== -1) {\r\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\r\n            Q.nextTick.runAfter(function () {\r\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\r\n                if (atReport !== -1) {\r\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\r\n                    reportedUnhandledRejections.splice(atReport, 1);\r\n                }\r\n            });\r\n        }\r\n        unhandledRejections.splice(at, 1);\r\n        unhandledReasons.splice(at, 1);\r\n    }\r\n}\r\n\r\nQ.resetUnhandledRejections = resetUnhandledRejections;\r\n\r\nQ.getUnhandledReasons = function () {\r\n    // Make a copy so that consumers can't interfere with our internal state.\r\n    return unhandledReasons.slice();\r\n};\r\n\r\nQ.stopUnhandledRejectionTracking = function () {\r\n    resetUnhandledRejections();\r\n    trackUnhandledRejections = false;\r\n};\r\n\r\nresetUnhandledRejections();\r\n\r\n//// END UNHANDLED REJECTION TRACKING\r\n\r\n/**\r\n * Constructs a rejected promise.\r\n * @param reason value describing the failure\r\n */\r\nQ.reject = reject;\r\nfunction reject(reason) {\r\n    var rejection = Promise({\r\n        \"when\": function (rejected) {\r\n            // note that the error has been handled\r\n            if (rejected) {\r\n                untrackRejection(this);\r\n            }\r\n            return rejected ? rejected(reason) : this;\r\n        }\r\n    }, function fallback() {\r\n        return this;\r\n    }, function inspect() {\r\n        return { state: \"rejected\", reason: reason };\r\n    });\r\n\r\n    // Note that the reason has not been handled.\r\n    trackRejection(rejection, reason);\r\n\r\n    return rejection;\r\n}\r\n\r\n/**\r\n * Constructs a fulfilled promise for an immediate reference.\r\n * @param value immediate reference\r\n */\r\nQ.fulfill = fulfill;\r\nfunction fulfill(value) {\r\n    return Promise({\r\n        \"when\": function () {\r\n            return value;\r\n        },\r\n        \"get\": function (name) {\r\n            return value[name];\r\n        },\r\n        \"set\": function (name, rhs) {\r\n            value[name] = rhs;\r\n        },\r\n        \"delete\": function (name) {\r\n            delete value[name];\r\n        },\r\n        \"post\": function (name, args) {\r\n            // Mark Miller proposes that post with no name should apply a\r\n            // promised function.\r\n            if (name === null || name === void 0) {\r\n                return value.apply(void 0, args);\r\n            } else {\r\n                return value[name].apply(value, args);\r\n            }\r\n        },\r\n        \"apply\": function (thisp, args) {\r\n            return value.apply(thisp, args);\r\n        },\r\n        \"keys\": function () {\r\n            return object_keys(value);\r\n        }\r\n    }, void 0, function inspect() {\r\n        return { state: \"fulfilled\", value: value };\r\n    });\r\n}\r\n\r\n/**\r\n * Converts thenables to Q promises.\r\n * @param promise thenable promise\r\n * @returns a Q promise\r\n */\r\nfunction coerce(promise) {\r\n    var deferred = defer();\r\n    Q.nextTick(function () {\r\n        try {\r\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\r\n        } catch (exception) {\r\n            deferred.reject(exception);\r\n        }\r\n    });\r\n    return deferred.promise;\r\n}\r\n\r\n/**\r\n * Annotates an object such that it will never be\r\n * transferred away from this process over any promise\r\n * communication channel.\r\n * @param object\r\n * @returns promise a wrapping of that object that\r\n * additionally responds to the \"isDef\" message\r\n * without a rejection.\r\n */\r\nQ.master = master;\r\nfunction master(object) {\r\n    return Promise({\r\n        \"isDef\": function () {}\r\n    }, function fallback(op, args) {\r\n        return dispatch(object, op, args);\r\n    }, function () {\r\n        return Q(object).inspect();\r\n    });\r\n}\r\n\r\n/**\r\n * Spreads the values of a promised array of arguments into the\r\n * fulfillment callback.\r\n * @param fulfilled callback that receives variadic arguments from the\r\n * promised array\r\n * @param rejected callback that receives the exception if the promise\r\n * is rejected.\r\n * @returns a promise for the return value or thrown exception of\r\n * either callback.\r\n */\r\nQ.spread = spread;\r\nfunction spread(value, fulfilled, rejected) {\r\n    return Q(value).spread(fulfilled, rejected);\r\n}\r\n\r\nPromise.prototype.spread = function (fulfilled, rejected) {\r\n    return this.all().then(function (array) {\r\n        return fulfilled.apply(void 0, array);\r\n    }, rejected);\r\n};\r\n\r\n/**\r\n * The async function is a decorator for generator functions, turning\r\n * them into asynchronous generators.  Although generators are only part\r\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\r\n * errors in older engines.  This code should continue to work and will\r\n * in fact improve over time as the language improves.\r\n *\r\n * ES6 generators are currently part of V8 version 3.19 with the\r\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\r\n * for longer, but under an older Python-inspired form.  This function\r\n * works on both kinds of generators.\r\n *\r\n * Decorates a generator function such that:\r\n *  - it may yield promises\r\n *  - execution will continue when that promise is fulfilled\r\n *  - the value of the yield expression will be the fulfilled value\r\n *  - it returns a promise for the return value (when the generator\r\n *    stops iterating)\r\n *  - the decorated function returns a promise for the return value\r\n *    of the generator or the first rejected promise among those\r\n *    yielded.\r\n *  - if an error is thrown in the generator, it propagates through\r\n *    every following yield until it is caught, or until it escapes\r\n *    the generator function altogether, and is translated into a\r\n *    rejection for the promise returned by the decorated generator.\r\n */\r\nQ.async = async;\r\nfunction async(makeGenerator) {\r\n    return function () {\r\n        // when verb is \"send\", arg is a value\r\n        // when verb is \"throw\", arg is an exception\r\n        function continuer(verb, arg) {\r\n            var result;\r\n\r\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\r\n            // engine that has a deployed base of browsers that support generators.\r\n            // However, SM's generators use the Python-inspired semantics of\r\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\r\n            // like to make it possible to use generators in deployed browsers, so\r\n            // we also support Python-style generators.  At some point we can remove\r\n            // this block.\r\n\r\n            if (typeof StopIteration === \"undefined\") {\r\n                // ES6 Generators\r\n                try {\r\n                    result = generator[verb](arg);\r\n                } catch (exception) {\r\n                    return reject(exception);\r\n                }\r\n                if (result.done) {\r\n                    return Q(result.value);\r\n                } else {\r\n                    return when(result.value, callback, errback);\r\n                }\r\n            } else {\r\n                // SpiderMonkey Generators\r\n                // FIXME: Remove this case when SM does ES6 generators.\r\n                try {\r\n                    result = generator[verb](arg);\r\n                } catch (exception) {\r\n                    if (isStopIteration(exception)) {\r\n                        return Q(exception.value);\r\n                    } else {\r\n                        return reject(exception);\r\n                    }\r\n                }\r\n                return when(result, callback, errback);\r\n            }\r\n        }\r\n        var generator = makeGenerator.apply(this, arguments);\r\n        var callback = continuer.bind(continuer, \"next\");\r\n        var errback = continuer.bind(continuer, \"throw\");\r\n        return callback();\r\n    };\r\n}\r\n\r\n/**\r\n * The spawn function is a small wrapper around async that immediately\r\n * calls the generator and also ends the promise chain, so that any\r\n * unhandled errors are thrown instead of forwarded to the error\r\n * handler. This is useful because it's extremely common to run\r\n * generators at the top-level to work with libraries.\r\n */\r\nQ.spawn = spawn;\r\nfunction spawn(makeGenerator) {\r\n    Q.done(Q.async(makeGenerator)());\r\n}\r\n\r\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\r\n/**\r\n * Throws a ReturnValue exception to stop an asynchronous generator.\r\n *\r\n * This interface is a stop-gap measure to support generator return\r\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\r\n * generators like Chromium 29, just use \"return\" in your generator\r\n * functions.\r\n *\r\n * @param value the return value for the surrounding generator\r\n * @throws ReturnValue exception with the value.\r\n * @example\r\n * // ES6 style\r\n * Q.async(function* () {\r\n *      var foo = yield getFooPromise();\r\n *      var bar = yield getBarPromise();\r\n *      return foo + bar;\r\n * })\r\n * // Older SpiderMonkey style\r\n * Q.async(function () {\r\n *      var foo = yield getFooPromise();\r\n *      var bar = yield getBarPromise();\r\n *      Q.return(foo + bar);\r\n * })\r\n */\r\nQ[\"return\"] = _return;\r\nfunction _return(value) {\r\n    throw new QReturnValue(value);\r\n}\r\n\r\n/**\r\n * The promised function decorator ensures that any promise arguments\r\n * are settled and passed as values (`this` is also settled and passed\r\n * as a value).  It will also ensure that the result of a function is\r\n * always a promise.\r\n *\r\n * @example\r\n * var add = Q.promised(function (a, b) {\r\n *     return a + b;\r\n * });\r\n * add(Q(a), Q(B));\r\n *\r\n * @param {function} callback The function to decorate\r\n * @returns {function} a function that has been decorated.\r\n */\r\nQ.promised = promised;\r\nfunction promised(callback) {\r\n    return function () {\r\n        return spread([this, all(arguments)], function (self, args) {\r\n            return callback.apply(self, args);\r\n        });\r\n    };\r\n}\r\n\r\n/**\r\n * sends a message to a value in a future turn\r\n * @param object* the recipient\r\n * @param op the name of the message operation, e.g., \"when\",\r\n * @param args further arguments to be forwarded to the operation\r\n * @returns result {Promise} a promise for the result of the operation\r\n */\r\nQ.dispatch = dispatch;\r\nfunction dispatch(object, op, args) {\r\n    return Q(object).dispatch(op, args);\r\n}\r\n\r\nPromise.prototype.dispatch = function (op, args) {\r\n    var self = this;\r\n    var deferred = defer();\r\n    Q.nextTick(function () {\r\n        self.promiseDispatch(deferred.resolve, op, args);\r\n    });\r\n    return deferred.promise;\r\n};\r\n\r\n/**\r\n * Gets the value of a property in a future turn.\r\n * @param object    promise or immediate reference for target object\r\n * @param name      name of property to get\r\n * @return promise for the property value\r\n */\r\nQ.get = function (object, key) {\r\n    return Q(object).dispatch(\"get\", [key]);\r\n};\r\n\r\nPromise.prototype.get = function (key) {\r\n    return this.dispatch(\"get\", [key]);\r\n};\r\n\r\n/**\r\n * Sets the value of a property in a future turn.\r\n * @param object    promise or immediate reference for object object\r\n * @param name      name of property to set\r\n * @param value     new value of property\r\n * @return promise for the return value\r\n */\r\nQ.set = function (object, key, value) {\r\n    return Q(object).dispatch(\"set\", [key, value]);\r\n};\r\n\r\nPromise.prototype.set = function (key, value) {\r\n    return this.dispatch(\"set\", [key, value]);\r\n};\r\n\r\n/**\r\n * Deletes a property in a future turn.\r\n * @param object    promise or immediate reference for target object\r\n * @param name      name of property to delete\r\n * @return promise for the return value\r\n */\r\nQ.del = // XXX legacy\r\nQ[\"delete\"] = function (object, key) {\r\n    return Q(object).dispatch(\"delete\", [key]);\r\n};\r\n\r\nPromise.prototype.del = // XXX legacy\r\nPromise.prototype[\"delete\"] = function (key) {\r\n    return this.dispatch(\"delete\", [key]);\r\n};\r\n\r\n/**\r\n * Invokes a method in a future turn.\r\n * @param object    promise or immediate reference for target object\r\n * @param name      name of method to invoke\r\n * @param value     a value to post, typically an array of\r\n *                  invocation arguments for promises that\r\n *                  are ultimately backed with `resolve` values,\r\n *                  as opposed to those backed with URLs\r\n *                  wherein the posted value can be any\r\n *                  JSON serializable object.\r\n * @return promise for the return value\r\n */\r\n// bound locally because it is used by other methods\r\nQ.mapply = // XXX As proposed by \"Redsandro\"\r\nQ.post = function (object, name, args) {\r\n    return Q(object).dispatch(\"post\", [name, args]);\r\n};\r\n\r\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\r\nPromise.prototype.post = function (name, args) {\r\n    return this.dispatch(\"post\", [name, args]);\r\n};\r\n\r\n/**\r\n * Invokes a method in a future turn.\r\n * @param object    promise or immediate reference for target object\r\n * @param name      name of method to invoke\r\n * @param ...args   array of invocation arguments\r\n * @return promise for the return value\r\n */\r\nQ.send = // XXX Mark Miller's proposed parlance\r\nQ.mcall = // XXX As proposed by \"Redsandro\"\r\nQ.invoke = function (object, name /*...args*/) {\r\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\r\n};\r\n\r\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\r\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\r\nPromise.prototype.invoke = function (name /*...args*/) {\r\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\r\n};\r\n\r\n/**\r\n * Applies the promised function in a future turn.\r\n * @param object    promise or immediate reference for target function\r\n * @param args      array of application arguments\r\n */\r\nQ.fapply = function (object, args) {\r\n    return Q(object).dispatch(\"apply\", [void 0, args]);\r\n};\r\n\r\nPromise.prototype.fapply = function (args) {\r\n    return this.dispatch(\"apply\", [void 0, args]);\r\n};\r\n\r\n/**\r\n * Calls the promised function in a future turn.\r\n * @param object    promise or immediate reference for target function\r\n * @param ...args   array of application arguments\r\n */\r\nQ[\"try\"] =\r\nQ.fcall = function (object /* ...args*/) {\r\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\r\n};\r\n\r\nPromise.prototype.fcall = function (/*...args*/) {\r\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\r\n};\r\n\r\n/**\r\n * Binds the promised function, transforming return values into a fulfilled\r\n * promise and thrown errors into a rejected one.\r\n * @param object    promise or immediate reference for target function\r\n * @param ...args   array of application arguments\r\n */\r\nQ.fbind = function (object /*...args*/) {\r\n    var promise = Q(object);\r\n    var args = array_slice(arguments, 1);\r\n    return function fbound() {\r\n        return promise.dispatch(\"apply\", [\r\n            this,\r\n            args.concat(array_slice(arguments))\r\n        ]);\r\n    };\r\n};\r\nPromise.prototype.fbind = function (/*...args*/) {\r\n    var promise = this;\r\n    var args = array_slice(arguments);\r\n    return function fbound() {\r\n        return promise.dispatch(\"apply\", [\r\n            this,\r\n            args.concat(array_slice(arguments))\r\n        ]);\r\n    };\r\n};\r\n\r\n/**\r\n * Requests the names of the owned properties of a promised\r\n * object in a future turn.\r\n * @param object    promise or immediate reference for target object\r\n * @return promise for the keys of the eventually settled object\r\n */\r\nQ.keys = function (object) {\r\n    return Q(object).dispatch(\"keys\", []);\r\n};\r\n\r\nPromise.prototype.keys = function () {\r\n    return this.dispatch(\"keys\", []);\r\n};\r\n\r\n/**\r\n * Turns an array of promises into a promise for an array.  If any of\r\n * the promises gets rejected, the whole array is rejected immediately.\r\n * @param {Array*} an array (or promise for an array) of values (or\r\n * promises for values)\r\n * @returns a promise for an array of the corresponding values\r\n */\r\n// By Mark Miller\r\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\r\nQ.all = all;\r\nfunction all(promises) {\r\n    return when(promises, function (promises) {\r\n        var pendingCount = 0;\r\n        var deferred = defer();\r\n        array_reduce(promises, function (undefined, promise, index) {\r\n            var snapshot;\r\n            if (\r\n                isPromise(promise) &&\r\n                (snapshot = promise.inspect()).state === \"fulfilled\"\r\n            ) {\r\n                promises[index] = snapshot.value;\r\n            } else {\r\n                ++pendingCount;\r\n                when(\r\n                    promise,\r\n                    function (value) {\r\n                        promises[index] = value;\r\n                        if (--pendingCount === 0) {\r\n                            deferred.resolve(promises);\r\n                        }\r\n                    },\r\n                    deferred.reject,\r\n                    function (progress) {\r\n                        deferred.notify({ index: index, value: progress });\r\n                    }\r\n                );\r\n            }\r\n        }, void 0);\r\n        if (pendingCount === 0) {\r\n            deferred.resolve(promises);\r\n        }\r\n        return deferred.promise;\r\n    });\r\n}\r\n\r\nPromise.prototype.all = function () {\r\n    return all(this);\r\n};\r\n\r\n/**\r\n * Returns the first resolved promise of an array. Prior rejected promises are\r\n * ignored.  Rejects only if all promises are rejected.\r\n * @param {Array*} an array containing values or promises for values\r\n * @returns a promise fulfilled with the value of the first resolved promise,\r\n * or a rejected promise if all promises are rejected.\r\n */\r\nQ.any = any;\r\n\r\nfunction any(promises) {\r\n    if (promises.length === 0) {\r\n        return Q.resolve();\r\n    }\r\n\r\n    var deferred = Q.defer();\r\n    var pendingCount = 0;\r\n    array_reduce(promises, function (prev, current, index) {\r\n        var promise = promises[index];\r\n\r\n        pendingCount++;\r\n\r\n        when(promise, onFulfilled, onRejected, onProgress);\r\n        function onFulfilled(result) {\r\n            deferred.resolve(result);\r\n        }\r\n        function onRejected(err) {\r\n            pendingCount--;\r\n            if (pendingCount === 0) {\r\n                var rejection = err || new Error(\"\" + err);\r\n\r\n                rejection.message = (\"Q can't get fulfillment value from any promise, all \" +\r\n                    \"promises were rejected. Last error message: \" + rejection.message);\r\n\r\n                deferred.reject(rejection);\r\n            }\r\n        }\r\n        function onProgress(progress) {\r\n            deferred.notify({\r\n                index: index,\r\n                value: progress\r\n            });\r\n        }\r\n    }, undefined);\r\n\r\n    return deferred.promise;\r\n}\r\n\r\nPromise.prototype.any = function () {\r\n    return any(this);\r\n};\r\n\r\n/**\r\n * Waits for all promises to be settled, either fulfilled or\r\n * rejected.  This is distinct from `all` since that would stop\r\n * waiting at the first rejection.  The promise returned by\r\n * `allResolved` will never be rejected.\r\n * @param promises a promise for an array (or an array) of promises\r\n * (or values)\r\n * @return a promise for an array of promises\r\n */\r\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\r\nfunction allResolved(promises) {\r\n    return when(promises, function (promises) {\r\n        promises = array_map(promises, Q);\r\n        return when(all(array_map(promises, function (promise) {\r\n            return when(promise, noop, noop);\r\n        })), function () {\r\n            return promises;\r\n        });\r\n    });\r\n}\r\n\r\nPromise.prototype.allResolved = function () {\r\n    return allResolved(this);\r\n};\r\n\r\n/**\r\n * @see Promise#allSettled\r\n */\r\nQ.allSettled = allSettled;\r\nfunction allSettled(promises) {\r\n    return Q(promises).allSettled();\r\n}\r\n\r\n/**\r\n * Turns an array of promises into a promise for an array of their states (as\r\n * returned by `inspect`) when they have all settled.\r\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\r\n * promises for values)\r\n * @returns {Array[State]} an array of states for the respective values.\r\n */\r\nPromise.prototype.allSettled = function () {\r\n    return this.then(function (promises) {\r\n        return all(array_map(promises, function (promise) {\r\n            promise = Q(promise);\r\n            function regardless() {\r\n                return promise.inspect();\r\n            }\r\n            return promise.then(regardless, regardless);\r\n        }));\r\n    });\r\n};\r\n\r\n/**\r\n * Captures the failure of a promise, giving an oportunity to recover\r\n * with a callback.  If the given promise is fulfilled, the returned\r\n * promise is fulfilled.\r\n * @param {Any*} promise for something\r\n * @param {Function} callback to fulfill the returned promise if the\r\n * given promise is rejected\r\n * @returns a promise for the return value of the callback\r\n */\r\nQ.fail = // XXX legacy\r\nQ[\"catch\"] = function (object, rejected) {\r\n    return Q(object).then(void 0, rejected);\r\n};\r\n\r\nPromise.prototype.fail = // XXX legacy\r\nPromise.prototype[\"catch\"] = function (rejected) {\r\n    return this.then(void 0, rejected);\r\n};\r\n\r\n/**\r\n * Attaches a listener that can respond to progress notifications from a\r\n * promise's originating deferred. This listener receives the exact arguments\r\n * passed to ``deferred.notify``.\r\n * @param {Any*} promise for something\r\n * @param {Function} callback to receive any progress notifications\r\n * @returns the given promise, unchanged\r\n */\r\nQ.progress = progress;\r\nfunction progress(object, progressed) {\r\n    return Q(object).then(void 0, void 0, progressed);\r\n}\r\n\r\nPromise.prototype.progress = function (progressed) {\r\n    return this.then(void 0, void 0, progressed);\r\n};\r\n\r\n/**\r\n * Provides an opportunity to observe the settling of a promise,\r\n * regardless of whether the promise is fulfilled or rejected.  Forwards\r\n * the resolution to the returned promise when the callback is done.\r\n * The callback can return a promise to defer completion.\r\n * @param {Any*} promise\r\n * @param {Function} callback to observe the resolution of the given\r\n * promise, takes no arguments.\r\n * @returns a promise for the resolution of the given promise when\r\n * ``fin`` is done.\r\n */\r\nQ.fin = // XXX legacy\r\nQ[\"finally\"] = function (object, callback) {\r\n    return Q(object)[\"finally\"](callback);\r\n};\r\n\r\nPromise.prototype.fin = // XXX legacy\r\nPromise.prototype[\"finally\"] = function (callback) {\r\n    if (!callback || typeof callback.apply !== \"function\") {\r\n        throw new Error(\"Q can't apply finally callback\");\r\n    }\r\n    callback = Q(callback);\r\n    return this.then(function (value) {\r\n        return callback.fcall().then(function () {\r\n            return value;\r\n        });\r\n    }, function (reason) {\r\n        // TODO attempt to recycle the rejection with \"this\".\r\n        return callback.fcall().then(function () {\r\n            throw reason;\r\n        });\r\n    });\r\n};\r\n\r\n/**\r\n * Terminates a chain of promises, forcing rejections to be\r\n * thrown as exceptions.\r\n * @param {Any*} promise at the end of a chain of promises\r\n * @returns nothing\r\n */\r\nQ.done = function (object, fulfilled, rejected, progress) {\r\n    return Q(object).done(fulfilled, rejected, progress);\r\n};\r\n\r\nPromise.prototype.done = function (fulfilled, rejected, progress) {\r\n    var onUnhandledError = function (error) {\r\n        // forward to a future turn so that ``when``\r\n        // does not catch it and turn it into a rejection.\r\n        Q.nextTick(function () {\r\n            makeStackTraceLong(error, promise);\r\n            if (Q.onerror) {\r\n                Q.onerror(error);\r\n            } else {\r\n                throw error;\r\n            }\r\n        });\r\n    };\r\n\r\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\r\n    var promise = fulfilled || rejected || progress ?\r\n        this.then(fulfilled, rejected, progress) :\r\n        this;\r\n\r\n    if (typeof process === \"object\" && process && process.domain) {\r\n        onUnhandledError = process.domain.bind(onUnhandledError);\r\n    }\r\n\r\n    promise.then(void 0, onUnhandledError);\r\n};\r\n\r\n/**\r\n * Causes a promise to be rejected if it does not get fulfilled before\r\n * some milliseconds time out.\r\n * @param {Any*} promise\r\n * @param {Number} milliseconds timeout\r\n * @param {Any*} custom error message or Error object (optional)\r\n * @returns a promise for the resolution of the given promise if it is\r\n * fulfilled before the timeout, otherwise rejected.\r\n */\r\nQ.timeout = function (object, ms, error) {\r\n    return Q(object).timeout(ms, error);\r\n};\r\n\r\nPromise.prototype.timeout = function (ms, error) {\r\n    var deferred = defer();\r\n    var timeoutId = setTimeout(function () {\r\n        if (!error || \"string\" === typeof error) {\r\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\r\n            error.code = \"ETIMEDOUT\";\r\n        }\r\n        deferred.reject(error);\r\n    }, ms);\r\n\r\n    this.then(function (value) {\r\n        clearTimeout(timeoutId);\r\n        deferred.resolve(value);\r\n    }, function (exception) {\r\n        clearTimeout(timeoutId);\r\n        deferred.reject(exception);\r\n    }, deferred.notify);\r\n\r\n    return deferred.promise;\r\n};\r\n\r\n/**\r\n * Returns a promise for the given value (or promised value), some\r\n * milliseconds after it resolved. Passes rejections immediately.\r\n * @param {Any*} promise\r\n * @param {Number} milliseconds\r\n * @returns a promise for the resolution of the given promise after milliseconds\r\n * time has elapsed since the resolution of the given promise.\r\n * If the given promise rejects, that is passed immediately.\r\n */\r\nQ.delay = function (object, timeout) {\r\n    if (timeout === void 0) {\r\n        timeout = object;\r\n        object = void 0;\r\n    }\r\n    return Q(object).delay(timeout);\r\n};\r\n\r\nPromise.prototype.delay = function (timeout) {\r\n    return this.then(function (value) {\r\n        var deferred = defer();\r\n        setTimeout(function () {\r\n            deferred.resolve(value);\r\n        }, timeout);\r\n        return deferred.promise;\r\n    });\r\n};\r\n\r\n/**\r\n * Passes a continuation to a Node function, which is called with the given\r\n * arguments provided as an array, and returns a promise.\r\n *\r\n *      Q.nfapply(FS.readFile, [__filename])\r\n *      .then(function (content) {\r\n *      })\r\n *\r\n */\r\nQ.nfapply = function (callback, args) {\r\n    return Q(callback).nfapply(args);\r\n};\r\n\r\nPromise.prototype.nfapply = function (args) {\r\n    var deferred = defer();\r\n    var nodeArgs = array_slice(args);\r\n    nodeArgs.push(deferred.makeNodeResolver());\r\n    this.fapply(nodeArgs).fail(deferred.reject);\r\n    return deferred.promise;\r\n};\r\n\r\n/**\r\n * Passes a continuation to a Node function, which is called with the given\r\n * arguments provided individually, and returns a promise.\r\n * @example\r\n * Q.nfcall(FS.readFile, __filename)\r\n * .then(function (content) {\r\n * })\r\n *\r\n */\r\nQ.nfcall = function (callback /*...args*/) {\r\n    var args = array_slice(arguments, 1);\r\n    return Q(callback).nfapply(args);\r\n};\r\n\r\nPromise.prototype.nfcall = function (/*...args*/) {\r\n    var nodeArgs = array_slice(arguments);\r\n    var deferred = defer();\r\n    nodeArgs.push(deferred.makeNodeResolver());\r\n    this.fapply(nodeArgs).fail(deferred.reject);\r\n    return deferred.promise;\r\n};\r\n\r\n/**\r\n * Wraps a NodeJS continuation passing function and returns an equivalent\r\n * version that returns a promise.\r\n * @example\r\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\r\n * .then(console.log)\r\n * .done()\r\n */\r\nQ.nfbind =\r\nQ.denodeify = function (callback /*...args*/) {\r\n    if (callback === undefined) {\r\n        throw new Error(\"Q can't wrap an undefined function\");\r\n    }\r\n    var baseArgs = array_slice(arguments, 1);\r\n    return function () {\r\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\r\n        var deferred = defer();\r\n        nodeArgs.push(deferred.makeNodeResolver());\r\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\r\n        return deferred.promise;\r\n    };\r\n};\r\n\r\nPromise.prototype.nfbind =\r\nPromise.prototype.denodeify = function (/*...args*/) {\r\n    var args = array_slice(arguments);\r\n    args.unshift(this);\r\n    return Q.denodeify.apply(void 0, args);\r\n};\r\n\r\nQ.nbind = function (callback, thisp /*...args*/) {\r\n    var baseArgs = array_slice(arguments, 2);\r\n    return function () {\r\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\r\n        var deferred = defer();\r\n        nodeArgs.push(deferred.makeNodeResolver());\r\n        function bound() {\r\n            return callback.apply(thisp, arguments);\r\n        }\r\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\r\n        return deferred.promise;\r\n    };\r\n};\r\n\r\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\r\n    var args = array_slice(arguments, 0);\r\n    args.unshift(this);\r\n    return Q.nbind.apply(void 0, args);\r\n};\r\n\r\n/**\r\n * Calls a method of a Node-style object that accepts a Node-style\r\n * callback with a given array of arguments, plus a provided callback.\r\n * @param object an object that has the named method\r\n * @param {String} name name of the method of object\r\n * @param {Array} args arguments to pass to the method; the callback\r\n * will be provided by Q and appended to these arguments.\r\n * @returns a promise for the value or error\r\n */\r\nQ.nmapply = // XXX As proposed by \"Redsandro\"\r\nQ.npost = function (object, name, args) {\r\n    return Q(object).npost(name, args);\r\n};\r\n\r\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\r\nPromise.prototype.npost = function (name, args) {\r\n    var nodeArgs = array_slice(args || []);\r\n    var deferred = defer();\r\n    nodeArgs.push(deferred.makeNodeResolver());\r\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\r\n    return deferred.promise;\r\n};\r\n\r\n/**\r\n * Calls a method of a Node-style object that accepts a Node-style\r\n * callback, forwarding the given variadic arguments, plus a provided\r\n * callback argument.\r\n * @param object an object that has the named method\r\n * @param {String} name name of the method of object\r\n * @param ...args arguments to pass to the method; the callback will\r\n * be provided by Q and appended to these arguments.\r\n * @returns a promise for the value or error\r\n */\r\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\r\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\r\nQ.ninvoke = function (object, name /*...args*/) {\r\n    var nodeArgs = array_slice(arguments, 2);\r\n    var deferred = defer();\r\n    nodeArgs.push(deferred.makeNodeResolver());\r\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\r\n    return deferred.promise;\r\n};\r\n\r\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\r\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\r\nPromise.prototype.ninvoke = function (name /*...args*/) {\r\n    var nodeArgs = array_slice(arguments, 1);\r\n    var deferred = defer();\r\n    nodeArgs.push(deferred.makeNodeResolver());\r\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\r\n    return deferred.promise;\r\n};\r\n\r\n/**\r\n * If a function would like to support both Node continuation-passing-style and\r\n * promise-returning-style, it can end its internal promise chain with\r\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\r\n * elects to use a nodeback, the result will be sent there.  If they do not\r\n * pass a nodeback, they will receive the result promise.\r\n * @param object a result (or a promise for a result)\r\n * @param {Function} nodeback a Node.js-style callback\r\n * @returns either the promise or nothing\r\n */\r\nQ.nodeify = nodeify;\r\nfunction nodeify(object, nodeback) {\r\n    return Q(object).nodeify(nodeback);\r\n}\r\n\r\nPromise.prototype.nodeify = function (nodeback) {\r\n    if (nodeback) {\r\n        this.then(function (value) {\r\n            Q.nextTick(function () {\r\n                nodeback(null, value);\r\n            });\r\n        }, function (error) {\r\n            Q.nextTick(function () {\r\n                nodeback(error);\r\n            });\r\n        });\r\n    } else {\r\n        return this;\r\n    }\r\n};\r\n\r\nQ.noConflict = function() {\r\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\r\n};\r\n\r\n// All code before this point will be filtered from stack traces.\r\nvar qEndingLine = captureLine();\r\n\r\nreturn Q;\r\n\r\n});\r\n","var DESCRIPTORS = require('./_descriptors');\r\nvar getKeys = require('./_object-keys');\r\nvar toIObject = require('./_to-iobject');\r\nvar isEnum = require('./_object-pie').f;\r\nmodule.exports = function (isEntries) {\r\n  return function (it) {\r\n    var O = toIObject(it);\r\n    var keys = getKeys(O);\r\n    var length = keys.length;\r\n    var i = 0;\r\n    var result = [];\r\n    var key;\r\n    while (length > i) {\r\n      key = keys[i++];\r\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\r\n        result.push(isEntries ? [key, O[key]] : O[key]);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n};\r\n","var scope = (typeof global !== \"undefined\" && global) ||\r\n            (typeof self !== \"undefined\" && self) ||\r\n            window;\r\nvar apply = Function.prototype.apply;\r\n\r\n// DOM APIs, for completeness\r\n\r\nexports.setTimeout = function() {\r\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\r\n};\r\nexports.setInterval = function() {\r\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\r\n};\r\nexports.clearTimeout =\r\nexports.clearInterval = function(timeout) {\r\n  if (timeout) {\r\n    timeout.close();\r\n  }\r\n};\r\n\r\nfunction Timeout(id, clearFn) {\r\n  this._id = id;\r\n  this._clearFn = clearFn;\r\n}\r\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\r\nTimeout.prototype.close = function() {\r\n  this._clearFn.call(scope, this._id);\r\n};\r\n\r\n// Does not start the time, just sets up the members needed.\r\nexports.enroll = function(item, msecs) {\r\n  clearTimeout(item._idleTimeoutId);\r\n  item._idleTimeout = msecs;\r\n};\r\n\r\nexports.unenroll = function(item) {\r\n  clearTimeout(item._idleTimeoutId);\r\n  item._idleTimeout = -1;\r\n};\r\n\r\nexports._unrefActive = exports.active = function(item) {\r\n  clearTimeout(item._idleTimeoutId);\r\n\r\n  var msecs = item._idleTimeout;\r\n  if (msecs >= 0) {\r\n    item._idleTimeoutId = setTimeout(function onTimeout() {\r\n      if (item._onTimeout)\r\n        item._onTimeout();\r\n    }, msecs);\r\n  }\r\n};\r\n\r\n// setimmediate attaches itself to the global object\r\nrequire(\"setimmediate\");\r\n// On some exotic environments, it's not clear which object `setimmediate` was\r\n// able to install onto.  Search each possibility in the same order as the\r\n// `setimmediate` library.\r\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\r\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\r\n                       (this && this.setImmediate);\r\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\r\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\r\n                         (this && this.clearImmediate);\r\n","// most Object methods by ES6 should accept primitives\r\nvar $export = require('./_export');\r\nvar core = require('./_core');\r\nvar fails = require('./_fails');\r\nmodule.exports = function (KEY, exec) {\r\n  var fn = (core.Object || {})[KEY] || Object[KEY];\r\n  var exp = {};\r\n  exp[KEY] = exec(fn);\r\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\r\n};\r\n","(function (global, undefined) {\r\n    \"use strict\";\r\n\r\n    if (global.setImmediate) {\r\n        return;\r\n    }\r\n\r\n    var nextHandle = 1; // Spec says greater than zero\r\n    var tasksByHandle = {};\r\n    var currentlyRunningATask = false;\r\n    var doc = global.document;\r\n    var registerImmediate;\r\n\r\n    function setImmediate(callback) {\r\n      // Callback can either be a function or a string\r\n      if (typeof callback !== \"function\") {\r\n        callback = new Function(\"\" + callback);\r\n      }\r\n      // Copy function arguments\r\n      var args = new Array(arguments.length - 1);\r\n      for (var i = 0; i < args.length; i++) {\r\n          args[i] = arguments[i + 1];\r\n      }\r\n      // Store and register the task\r\n      var task = { callback: callback, args: args };\r\n      tasksByHandle[nextHandle] = task;\r\n      registerImmediate(nextHandle);\r\n      return nextHandle++;\r\n    }\r\n\r\n    function clearImmediate(handle) {\r\n        delete tasksByHandle[handle];\r\n    }\r\n\r\n    function run(task) {\r\n        var callback = task.callback;\r\n        var args = task.args;\r\n        switch (args.length) {\r\n        case 0:\r\n            callback();\r\n            break;\r\n        case 1:\r\n            callback(args[0]);\r\n            break;\r\n        case 2:\r\n            callback(args[0], args[1]);\r\n            break;\r\n        case 3:\r\n            callback(args[0], args[1], args[2]);\r\n            break;\r\n        default:\r\n            callback.apply(undefined, args);\r\n            break;\r\n        }\r\n    }\r\n\r\n    function runIfPresent(handle) {\r\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\r\n        // So if we're currently running a task, we'll need to delay this invocation.\r\n        if (currentlyRunningATask) {\r\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\r\n            // \"too much recursion\" error.\r\n            setTimeout(runIfPresent, 0, handle);\r\n        } else {\r\n            var task = tasksByHandle[handle];\r\n            if (task) {\r\n                currentlyRunningATask = true;\r\n                try {\r\n                    run(task);\r\n                } finally {\r\n                    clearImmediate(handle);\r\n                    currentlyRunningATask = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function installNextTickImplementation() {\r\n        registerImmediate = function(handle) {\r\n            process.nextTick(function () { runIfPresent(handle); });\r\n        };\r\n    }\r\n\r\n    function canUsePostMessage() {\r\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\r\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\r\n        if (global.postMessage && !global.importScripts) {\r\n            var postMessageIsAsynchronous = true;\r\n            var oldOnMessage = global.onmessage;\r\n            global.onmessage = function() {\r\n                postMessageIsAsynchronous = false;\r\n            };\r\n            global.postMessage(\"\", \"*\");\r\n            global.onmessage = oldOnMessage;\r\n            return postMessageIsAsynchronous;\r\n        }\r\n    }\r\n\r\n    function installPostMessageImplementation() {\r\n        // Installs an event handler on `global` for the `message` event: see\r\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\r\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\r\n\r\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\r\n        var onGlobalMessage = function(event) {\r\n            if (event.source === global &&\r\n                typeof event.data === \"string\" &&\r\n                event.data.indexOf(messagePrefix) === 0) {\r\n                runIfPresent(+event.data.slice(messagePrefix.length));\r\n            }\r\n        };\r\n\r\n        if (global.addEventListener) {\r\n            global.addEventListener(\"message\", onGlobalMessage, false);\r\n        } else {\r\n            global.attachEvent(\"onmessage\", onGlobalMessage);\r\n        }\r\n\r\n        registerImmediate = function(handle) {\r\n            global.postMessage(messagePrefix + handle, \"*\");\r\n        };\r\n    }\r\n\r\n    function installMessageChannelImplementation() {\r\n        var channel = new MessageChannel();\r\n        channel.port1.onmessage = function(event) {\r\n            var handle = event.data;\r\n            runIfPresent(handle);\r\n        };\r\n\r\n        registerImmediate = function(handle) {\r\n            channel.port2.postMessage(handle);\r\n        };\r\n    }\r\n\r\n    function installReadyStateChangeImplementation() {\r\n        var html = doc.documentElement;\r\n        registerImmediate = function(handle) {\r\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\r\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\r\n            var script = doc.createElement(\"script\");\r\n            script.onreadystatechange = function () {\r\n                runIfPresent(handle);\r\n                script.onreadystatechange = null;\r\n                html.removeChild(script);\r\n                script = null;\r\n            };\r\n            html.appendChild(script);\r\n        };\r\n    }\r\n\r\n    function installSetTimeoutImplementation() {\r\n        registerImmediate = function(handle) {\r\n            setTimeout(runIfPresent, 0, handle);\r\n        };\r\n    }\r\n\r\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\r\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\r\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\r\n\r\n    // Don't get fooled by e.g. browserify environments.\r\n    if ({}.toString.call(global.process) === \"[object process]\") {\r\n        // For Node.js before 0.9\r\n        installNextTickImplementation();\r\n\r\n    } else if (canUsePostMessage()) {\r\n        // For non-IE10 modern browsers\r\n        installPostMessageImplementation();\r\n\r\n    } else if (global.MessageChannel) {\r\n        // For web workers, where supported\r\n        installMessageChannelImplementation();\r\n\r\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\r\n        // For IE 6–8\r\n        installReadyStateChangeImplementation();\r\n\r\n    } else {\r\n        // For older browsers\r\n        installSetTimeoutImplementation();\r\n    }\r\n\r\n    attachTo.setImmediate = setImmediate;\r\n    attachTo.clearImmediate = clearImmediate;\r\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\r\n","// https://github.com/tc39/proposal-object-values-entries\r\nvar $export = require('./_export');\r\nvar $values = require('./_object-to-array')(false);\r\n\r\n$export($export.S, 'Object', {\r\n  values: function values(it) {\r\n    return $values(it);\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload_download.vue?vue&type=style&index=0&scope=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload_download.vue?vue&type=style&index=0&scope=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('UploadSmithKey')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"row\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('vueDropzone',{ref:\"myVueDropzone\",attrs:{\"id\":\"myVueDropzone\",\"options\":_vm.dropzoneOptions,\"useCustomSlot\":true},on:{\"vdropzone-sending\":_vm.upload_smith_key,\"vdropzone-removed-file\":_vm.remove_file,\"vdropzone-success\":_vm.success_upload_key}},[_c('div',{staticClass:\"dropzone-custom-content\"},[_c('h3',{staticClass:\"dropzone-custom-title\"},[_vm._v(\"Drag and drop your smith key!\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\"...or click to select a file from your computer\")])])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-container fluid>\n      <v-layout align-center justify-center row fill-height>\n        <v-flex xs8>\n          <vueDropzone\n            ref=\"myVueDropzone\"\n            id=\"myVueDropzone\"\n            @vdropzone-sending=\"upload_smith_key\"\n            @vdropzone-removed-file=\"remove_file\"\n            @vdropzone-success=\"success_upload_key\"\n            :options=\"dropzoneOptions\"\n            :useCustomSlot=\"true\"\n          >\n            <div class=\"dropzone-custom-content\">\n              <h3 class=\"dropzone-custom-title\">Drag and drop your smith key!</h3>\n              <div class=\"subtitle\">...or click to select a file from your computer</div>\n            </div>\n          </vueDropzone>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport vue2Dropzone from \"vue2-dropzone\";\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\n\n// import axios from \"axios\";\n\nexport default {\n  name: \"UploadSmithKey\",\n  components: {\n    // https://itnext.io/vue-a-pattern-for-idiomatic-performant-component-registration-you-might-not-know-about-9f3c091846f5?gi=4351204c93b8\n    //  https://stackoverflow.com/questions/52038615/in-vue-js-why-do-we-have-to-export-components-after-importing-them\n    // https://alligator.io/vuejs/vue-dropzone/\n    // https://rowanwins.github.io/vue-dropzone/docs/dist/#/events\n    vueDropzone: vue2Dropzone\n  },\n  data: function() {\n    return {\n      // dropzone settings\n      dropzoneOptions: {\n        url: this.$API_URL + \"/upload_smith_key\",\n        addRemoveLinks: true,\n        thumbnailWidth: 150,\n        maxFilesize: 0.5,\n        maxFiles: 1\n      }\n    };\n  },\n  computed: {\n    session_id() {\n      // session_id should be sent to all the axios request to backend now\n      return this.$store.state.session_id;\n    },\n    user_name_in_key(){\n      return this.$store.state.user_name_in_key;\n    }\n  },\n  mounted: function() {\n  },\n  methods: {\n    upload_smith_key: function(file, xhr, formData) {\n      formData.append(\"session_id\", this.session_id);\n    },\n    remove_file: function(file) {\n      // https://alligator.io/vuejs/rest-api-axios/\n      // https://github.com/rowanwins/vue-dropzone/issues/85\n      if (this.$refs.myVueDropzone.dropzone.disabled !== true) {\n        console.log(\"remove file\");\n        this.axios({\n          url: this.$API_URL + \"/upload_descriptor\",\n          method: \"POST\",\n          data: {\n            remove_file: file[\"name\"]\n          }\n        }).then(response => {});\n      }\n    },\n    success_upload_key:function(file, response){\n      console.log(response)\n      if (response['message'] == \"key uploaded successfully\"){\n        // send the user_name to vuex store\n        this.$store.dispatch('update_user_name_in_key', response['user_name'])\n      }\n    }\n  }\n};\n</script>\n\n<style scope>\n@import url(\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\");\n\n.dropzone-custom-title {\n  /* margin-top: 0; */\n  color: #00b782;\n}\n\n.subtitle {\n  color: #314b5f;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSmithKey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSmithKey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadSmithKey.vue?vue&type=template&id=f42385b4&\"\nimport script from \"./UploadSmithKey.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadSmithKey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadSmithKey.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <UploadSmithKey/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport UploadSmithKey from \"@/components/UploadSmithKey.vue\";\n\nexport default {\n  name: \"face\",\n  components: {\n    UploadSmithKey\n  },\n  mounted: function(){\n  },\n  methods: {\n    \n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSmithKey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSmithKey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadSmithKey.vue?vue&type=template&id=4700bbd7&\"\nimport script from \"./UploadSmithKey.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadSmithKey.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('img',{attrs:{\"alt\":\"Vue logo\",\"src\":require(\"../assets/logo.png\")}}),_c('HelloWorld',{attrs:{\"msg\":\"Welcome to Your Vue.js App\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._m(0),_c('h3',[_vm._v(\"Installed CLI Plugins\")]),_vm._m(1),_c('h3',[_vm._v(\"Essential Links\")]),_vm._m(2),_c('h3',[_vm._v(\"Ecosystem\")]),_vm._m(3)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"\\n    For a guide and recipes on how to configure / customize this project,\"),_c('br'),_vm._v(\"\\n    check out the\\n    \"),_c('a',{attrs:{\"href\":\"https://cli.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vue-cli documentation\")]),_vm._v(\".\\n  \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"babel\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"eslint\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Core Docs\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Forum\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Community Chat\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Twitter\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://news.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"News\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://router.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vue-router\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://vuex.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vuex\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/vue-devtools#vue-devtools\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vue-devtools\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://vue-loader.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vue-loader\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"awesome-vue\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hello\">\r\n    <h1>{{ msg }}</h1>\r\n    <p>\r\n      For a guide and recipes on how to configure / customize this project,<br>\r\n      check out the\r\n      <a href=\"https://cli.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-cli documentation</a>.\r\n    </p>\r\n    <h3>Installed CLI Plugins</h3>\r\n    <ul>\r\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\" target=\"_blank\" rel=\"noopener\">babel</a></li>\r\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\" target=\"_blank\" rel=\"noopener\">eslint</a></li>\r\n    </ul>\r\n    <h3>Essential Links</h3>\r\n    <ul>\r\n      <li><a href=\"https://vuejs.org\" target=\"_blank\" rel=\"noopener\">Core Docs</a></li>\r\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\" rel=\"noopener\">Forum</a></li>\r\n      <li><a href=\"https://chat.vuejs.org\" target=\"_blank\" rel=\"noopener\">Community Chat</a></li>\r\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\" rel=\"noopener\">Twitter</a></li>\r\n      <li><a href=\"https://news.vuejs.org\" target=\"_blank\" rel=\"noopener\">News</a></li>\r\n    </ul>\r\n    <h3>Ecosystem</h3>\r\n    <ul>\r\n      <li><a href=\"https://router.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-router</a></li>\r\n      <li><a href=\"https://vuex.vuejs.org\" target=\"_blank\" rel=\"noopener\">vuex</a></li>\r\n      <li><a href=\"https://github.com/vuejs/vue-devtools#vue-devtools\" target=\"_blank\" rel=\"noopener\">vue-devtools</a></li>\r\n      <li><a href=\"https://vue-loader.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-loader</a></li>\r\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\" rel=\"noopener\">awesome-vue</a></li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'HelloWorld',\r\n  props: {\r\n    msg: String\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelloWorld.vue?vue&type=template&id=0b11c2c6&scoped=true&\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=js&\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HelloWorld.vue?vue&type=style&index=0&id=0b11c2c6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b11c2c6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home\">\r\n    <img alt=\"Vue logo\" src=\"../assets/logo.png\">\r\n    <HelloWorld msg=\"Welcome to Your Vue.js App\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport HelloWorld from '@/components/HelloWorld.vue'\r\n\r\nexport default {\r\n  name: 'home',\r\n  components: {\r\n    HelloWorld\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=1007126e&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceDetection.vue?vue&type=style&index=0&id=313442ff&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceDetection.vue?vue&type=style&index=0&id=313442ff&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSmithKey.vue?vue&type=style&index=0&scope=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadSmithKey.vue?vue&type=style&index=0&scope=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"todo\"},[_c('todo_rest')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"todos-vue\"}},[_c('div',[_c('label',[_vm._v(\"New task:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_todo),expression:\"new_todo\"}],attrs:{\"id\":\"new_todo\",\"placeholder\":\"edit me\"},domProps:{\"value\":(_vm.new_todo)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.add_todo()},\"input\":function($event){if($event.target.composing){ return; }_vm.new_todo=$event.target.value}}}),_c('button',{on:{\"click\":function($event){return _vm.add_todo()}}},[_vm._v(\"Add\")])]),_c('div',_vm._l((_vm.todos),function(todo,index){return _c('div',{key:todo.id},[_c('label',[_vm._v(_vm._s(index)+\".\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(todo.content),expression:\"todo.content\"}],attrs:{\"disabled\":todo.done},domProps:{\"value\":(todo.content)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.update_todo(todo)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(todo, \"content\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(todo.done),expression:\"todo.done\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(todo.done)?_vm._i(todo.done,null)>-1:(todo.done)},on:{\"change\":function($event){var $$a=todo.done,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(todo, \"done\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(todo, \"done\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(todo, \"done\", $$c)}}}}),_c('button',{on:{\"click\":function($event){return _vm.remove_todo(index)}}},[_vm._v(\"Delete\")])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"todos-vue\">\r\n    <div>\r\n      <label>New task:</label>\r\n      <!-- use v-model for 2-way binding, call method when user press enter @keyup.enter-->\r\n      <input id=\"new_todo\" v-model=\"new_todo\" placeholder=\"edit me\" @keyup.enter=\"add_todo()\">\r\n      <button @click=\"add_todo()\">Add</button>\r\n    </div>\r\n    <div>\r\n      <div v-for=\"(todo, index) in todos\" :key=\"todo.id\">\r\n        <label>{{index}}.</label>\r\n        <!-- we also want to be able to directly update the existing todo, this is handled by v-model, but our database needs to be handled differently-->\r\n        <input v-model=\"todo.content\" :disabled=\"todo.done\" @keyup.enter=\"update_todo(todo)\">\r\n        <!-- when click the checkbox, the input becomes disabled -->\r\n        <input type=\"checkbox\" v-model=\"todo.done\">\r\n        <button @click=\"remove_todo(index)\">Delete</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"todo_comp\",\r\n  data: function() {\r\n    return {\r\n      new_todo: \"\",\r\n      todos: [\r\n        { id: 1, content: \"write paper\", done: false },\r\n        { id: 2, content: \"read paper\", done: false },\r\n        { id: 3, content: \"review paper\", done: false }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    // the id of the new todos is the last id + 1\r\n    new_todo_id: function() {\r\n      this.todos[this.todos.length - 1].id + 1;\r\n    }\r\n  },\r\n  methods: {\r\n    // all the methods will be replaced with REST API call later\r\n    remove_todo: function(index) {\r\n      this.todos.splice(index, 1);\r\n    },\r\n    add_todo: function() {\r\n      this.todos.push({\r\n        id: this.new_todo_id,\r\n        content: this.new_todo,\r\n        done: false\r\n      });\r\n    },\r\n    // this is to update data to backend\r\n    update_todo: function(todo) {\r\n      console.log(\"new value:\");\r\n      console.log(todo.id);\r\n      console.log(todo.content);\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./todo_comp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./todo_comp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./todo_comp.vue?vue&type=template&id=8ff9bec8&\"\nimport script from \"./todo_comp.vue?vue&type=script&lang=js&\"\nexport * from \"./todo_comp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',{attrs:{\"grid-list-md\":\"\",\"text-xs-center\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',[_c('v-btn',{attrs:{\"large\":\"\",\"dark\":\"\",\"color\":\"green\"},on:{\"click\":function($event){return _vm.read_todo()}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"\\n            refresh\\n            \"),_c('v-icon',[_vm._v(_vm._s(_vm.route.icon))])],1),_vm._v(\"Fetch database\\n        \")],1)],1),_c('v-progress-circular',{attrs:{\"value\":_vm.progress}}),_c('span',[_vm._v(\"Progress so far\")]),_c('v-flex')],1),_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{attrs:{\"placeholder\":\"edit me\",\"label\":\"New Task\",\"clearable\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.update_todo(_vm.id=-1, _vm.content=_vm.new_todo, _vm.done=false, _vm.delete_=false)}},model:{value:(_vm.new_todo),callback:function ($$v) {_vm.new_todo=$$v},expression:\"new_todo\"}})],1),_c('v-flex',{attrs:{\"xs1\":\"\"}}),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"fab\":\"\",\"dark\":\"\",\"color\":\"teal\"},on:{\"click\":function($event){return _vm.update_todo(_vm.id=-1, _vm.content=_vm.new_todo, _vm.done=false, _vm.delete_=false)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"add\")])],1)],1)],1),_vm._l((_vm.todos),function(todo){return _c('div',{key:todo.id},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{attrs:{\"label\":String(todo.id),\"disabled\":todo.done},on:{\"change\":function($event){return _vm.update_todo(_vm.id=todo.id, _vm.content=todo.content, _vm.done=todo.done, _vm.delete_=false)}},model:{value:(todo.content),callback:function ($$v) {_vm.$set(todo, \"content\", $$v)},expression:\"todo.content\"}})],1),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-switch',{attrs:{\"label\":\"Done?\"},on:{\"change\":function($event){return _vm.update_todo(_vm.id=todo.id, _vm.content=todo.content, _vm.done=todo.done, _vm.delete_=false)}},model:{value:(todo.done),callback:function ($$v) {_vm.$set(todo, \"done\", $$v)},expression:\"todo.done\"}})],1),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"fab\":\"\",\"dark\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.update_todo(_vm.id=todo.id, _vm.content='', _vm.done=true, _vm.delete_=true)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"remove\")])],1)],1)],1)],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-container grid-list-md text-xs-center>\r\n      <v-layout align-center justify-center>\r\n        <v-flex>\r\n          <v-btn large dark color=\"green\" @click=\"read_todo()\">\r\n            <v-icon dark>\r\n              refresh\r\n              <v-icon>{{route.icon}}</v-icon>\r\n            </v-icon>Fetch database\r\n          </v-btn>\r\n        </v-flex>\r\n        <v-progress-circular :value=\"progress\"></v-progress-circular>\r\n        <span>Progress so far</span>\r\n        <v-flex></v-flex>\r\n      </v-layout>\r\n\r\n      <v-layout align-center justify-center>\r\n        <v-flex xs8>\r\n          <!-- use v-model for 2-way binding, call method when user press enter @keyup.enter-->\r\n          <!-- <v-text-field v-model=\"new_todo\" placeholder=\"edit me\" @keyup.enter=\"add_todo()\"> -->\r\n          <v-text-field\r\n            v-model=\"new_todo\"\r\n            placeholder=\"edit me\"\r\n            label=\"New Task\"\r\n            clearable\r\n            @keydown.enter=\"update_todo(id=-1, content=new_todo, done=false, delete_=false)\"\r\n          ></v-text-field>\r\n        </v-flex>\r\n        <v-flex xs1/>\r\n        <v-flex xs1>\r\n          <v-btn\r\n            small\r\n            fab\r\n            dark\r\n            color=\"teal\"\r\n            @click=\"update_todo(id=-1, content=new_todo, done=false, delete_=false)\"\r\n          >\r\n            <v-icon dark>add</v-icon>\r\n          </v-btn>\r\n        </v-flex>\r\n      </v-layout>\r\n\r\n      <div v-for=\"(todo) in todos\" :key=\"todo.id\">\r\n        <v-layout align-center justify-center>\r\n          <v-flex xs8>\r\n            <!-- we also want to be able to directly update the existing todo, this is handled by v-model, but our database needs to be handled differently-->\r\n            <v-text-field\r\n              v-model=\"todo.content\"\r\n              :label=\"String(todo.id)\"\r\n              :disabled=\"todo.done\"\r\n              @change=\"update_todo(id=todo.id, content=todo.content, done=todo.done, delete_=false)\"\r\n            />\r\n          </v-flex>\r\n          <v-flex xs1>\r\n            <!-- when click the checkbox, the input becomes disabled -->\r\n            <!-- use @change rather than @click, the @click event happens too fast that new_val is not sent through  -->\r\n            <v-switch\r\n              v-model=\"todo.done\"\r\n              label=\"Done?\"\r\n              @change=\"update_todo(id=todo.id, content=todo.content, done=todo.done, delete_=false)\"\r\n            />\r\n          </v-flex>\r\n          <v-flex xs1>\r\n            <v-btn\r\n              small\r\n              fab\r\n              dark\r\n              color=\"error\"\r\n              @click=\"update_todo(id=todo.id, content='', done=true, delete_=true)\"\r\n            >\r\n              <v-icon dark>remove</v-icon>\r\n            </v-btn>\r\n          </v-flex>\r\n        </v-layout>\r\n      </div>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"todo_comp\",\r\n  data: function() {\r\n    return {\r\n      new_todo: \"\",\r\n      todos: [{ id: 1, content: \"\", done: false }]\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.read_todo();\r\n  },\r\n  computed: {\r\n    progress: function() {\r\n      var task_done = this.todos.filter(todo => todo.done);\r\n      // console.log(task_done)\r\n      return (task_done.length / this.todos.length) * 100;\r\n    }\r\n  },\r\n  methods: {\r\n    // all the methods will be replaced with REST API call later\r\n    read_todo: function() {\r\n      this.axios\r\n        .get(this.$API_URL + \"/todo_db\")\r\n        .then(response => (this.todos = response.data));\r\n    },\r\n    update_todo: function(\r\n      id = -1,\r\n      content = \"\",\r\n      done = false,\r\n      delete_ = false\r\n    ) {\r\n      var data = {\r\n        id: id,\r\n        content: content,\r\n        done: done,\r\n        delete: delete_\r\n      };\r\n      // console.log(data);\r\n      this.axios\r\n        .post(this.$API_URL + \"/todo_db\", data)\r\n        .then(() => this.read_todo());\r\n      //   add a delay to make sure the backend respond\r\n    },\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./todo_rest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./todo_rest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./todo_rest.vue?vue&type=template&id=5827b6a6&\"\nimport script from \"./todo_rest.vue?vue&type=script&lang=js&\"\nexport * from \"./todo_rest.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"todo\">\r\n      <todo_rest/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport todo_comp from '@/components/todo_comp.vue'\r\nimport todo_rest from '@/components/todo_rest.vue'\r\n\r\n\r\nexport default {\r\n  name: 'todo',\r\n  components: {\r\n    todo_comp,\r\n    todo_rest\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./todo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./todo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./todo.vue?vue&type=template&id=5fab6088&\"\nimport script from \"./todo.vue?vue&type=script&lang=js&\"\nexport * from \"./todo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"This is an about page\")]),_c('upload_download')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',{attrs:{\"grid-list-md\":\"\",\"text-xs-center\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('vueDropzone',{ref:\"myVueDropzone\",attrs:{\"id\":\"myVueDropzone\",\"options\":_vm.dropzoneOptions,\"useCustomSlot\":true},on:{\"vdropzone-success\":_vm.upload_complete,\"vdropzone-removed-file\":_vm.remove_file}},[_c('div',{staticClass:\"dropzone-custom-content\"},[_c('h3',{staticClass:\"dropzone-custom-title\"},[_vm._v(\"Drag and drop to upload content!\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\"...or click to select a file from your computer\")])])])],1)],1),_c('v-layout',[_c('v-flex',[_c('v-btn',{on:{\"click\":_vm.removeAllFiles}},[_vm._v(\"Remove All Files\")]),_c('v-btn',{on:{\"click\":_vm.download_file}},[_vm._v(\"Download file\")]),_c('v-btn',{on:{\"click\":_vm.toggle}},[_vm._v(\"toggle\")])],1)],1),_c('br'),_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs10\":\"\"}},[_c('v-img',{key:_vm.active_file,attrs:{\"src\":_vm.image_location}})],1)],1),_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-list',_vm._l((_vm.existing_files),function(file){return _c('v-list-tile',{key:file,on:{\"click\":function($event){return _vm.change_file(file)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(file)}})],1)],1)}),1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-container grid-list-md text-xs-center fluid>\r\n      <v-layout align-center justify-center>\r\n        <v-flex xs12>\r\n          <vueDropzone\r\n            ref=\"myVueDropzone\"\r\n            id=\"myVueDropzone\"\r\n            @vdropzone-success=\"upload_complete\"\r\n            @vdropzone-removed-file=\"remove_file\"\r\n            :options=\"dropzoneOptions\"\r\n            :useCustomSlot=\"true\"\r\n          >\r\n            <div class=\"dropzone-custom-content\">\r\n              <h3 class=\"dropzone-custom-title\">Drag and drop to upload content!</h3>\r\n              <div class=\"subtitle\">...or click to select a file from your computer</div>\r\n            </div>\r\n          </vueDropzone>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout>\r\n        <v-flex>\r\n          <!-- custom function called with buttons -->\r\n          <v-btn @click=\"removeAllFiles\">Remove All Files</v-btn>\r\n\r\n          <v-btn @click=\"download_file\">Download file</v-btn>\r\n          <v-btn @click=\"toggle\">toggle</v-btn>\r\n        </v-flex>\r\n      </v-layout>\r\n      <br>\r\n      <v-layout align-center justify-center>\r\n        <v-flex xs10>\r\n          <!-- use :key to actively refresh this component https://michaelnthiessen.com/force-re-render -->\r\n          <v-img :src=\"image_location\" :key=\"active_file\"/>\r\n        </v-flex>\r\n      </v-layout>\r\n\r\n      <v-layout align-center justify-center>\r\n        <v-flex xs4>\r\n          <v-list>\r\n            <v-list-tile v-for=\"file in existing_files\" :key=\"file\" @click=\"change_file(file)\">\r\n              <v-list-tile-content>\r\n                <v-list-tile-title v-text=\"file\"></v-list-tile-title>\r\n              </v-list-tile-content>\r\n            </v-list-tile>\r\n          </v-list>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vue2Dropzone from \"vue2-dropzone\";\r\nimport \"vue2-dropzone/dist/vue2Dropzone.min.css\";\r\nimport FileSaver from \"file-saver\";\r\n\r\n// import axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"upload_download\",\r\n  components: {\r\n    // https://itnext.io/vue-a-pattern-for-idiomatic-performant-component-registration-you-might-not-know-about-9f3c091846f5?gi=4351204c93b8\r\n    //  https://stackoverflow.com/questions/52038615/in-vue-js-why-do-we-have-to-export-components-after-importing-them\r\n    // https://alligator.io/vuejs/vue-dropzone/\r\n    // https://rowanwins.github.io/vue-dropzone/docs/dist/#/events\r\n    vueDropzone: vue2Dropzone\r\n  },\r\n  data: function() {\r\n    return {\r\n      // dropzone settings\r\n      dropzoneOptions: {\r\n        url: this.$API_URL + \"/upload_file\",\r\n        addRemoveLinks: true,\r\n        thumbnailWidth: 150,\r\n        maxFilesize: 0.5,\r\n        maxFiles: 4,\r\n        dictDefaultMessage: \"<i class='fa fa-cloud-upload'></i>UPLOAD ME\"\r\n      },\r\n      existing_files: [],\r\n      active_file: \"default.jpg\"\r\n    };\r\n  },\r\n  computed: {\r\n    image_location: function() {\r\n      return this.$API_URL + \"/download_file/\" + this.active_file;\r\n    }\r\n  },\r\n  mounted: function() {\r\n    this.read_existing_files();\r\n  },\r\n  methods: {\r\n    toggle: function() {\r\n      console.log(this.existing_files);\r\n      this.axios({\r\n        url: this.$API_URL + \"/verify_descriptor\",\r\n        method: \"POST\",\r\n        data: { user: \"test\", descriptor: [1, 2, 3, 4, 5, 6] }\r\n      }).then(response => {\r\n        var descriptor_json = {\r\n          descriptor_user: response.data[\"descriptor_user\"],\r\n          salt2: response.data[\"salt2\"]\r\n        };\r\n        console.log(descriptor_json);\r\n        // https://stackoverflow.com/questions/16329293/save-json-string-to-client-pc-using-html5-api\r\n        // JSON.parse() takes a JSON string and transforms it into a JavaScript object.\r\n        // JSON.stringify() takes a JavaScript object and transforms it into a JSON string.\r\n        // NOTE: Javascript object needs to be JSON (a string) to communicate\r\n        var descriptor_json = JSON.stringify(descriptor_json);\r\n        var blob = new Blob([descriptor_json], { type: \"application/json\" });\r\n        FileSaver.saveAs(blob, \"key.json\");\r\n      });\r\n    },\r\n    read_existing_files: function() {\r\n      this.axios({\r\n        url: this.$API_URL + \"/existing_files\",\r\n        method: \"GET\"\r\n      }).then(response => {\r\n        this.existing_files = response.data;\r\n      });\r\n    },\r\n\r\n    removeAllFiles: function() {\r\n      this.$refs.myVueDropzone.removeAllFiles();\r\n      console.log(this.$API_URL);\r\n    },\r\n    upload_complete: function(file) {\r\n      console.log(\"uploaded\");\r\n      console.log(file[\"name\"]);\r\n    },\r\n    remove_file: function(file) {\r\n      // https://alligator.io/vuejs/rest-api-axios/\r\n      this.axios({\r\n        url: this.$API_URL + \"/upload_file\",\r\n        method: \"POST\",\r\n        data: {\r\n          remove_file: file[\"name\"]\r\n        }\r\n      }).then(response => {});\r\n    },\r\n    download_file: function() {\r\n      // https://thewebtier.com/snippets/download-files-with-axios/\r\n      this.axios({\r\n        url: this.image_location,\r\n        method: \"GET\",\r\n        responseType: \"blob\" // important\r\n      }).then(response => {\r\n        // CORS headings - see backend\r\n        var filename = response.headers[\"x-suggested-filename\"];\r\n        var filetype = response.headers[\"x-suggested-filetype\"];\r\n\r\n        // var blob = new Blob([response.data], { type: \"image/png\" });\r\n        FileSaver.saveAs(new Blob([response.data]), filename + \".\" + filetype);\r\n      });\r\n    },\r\n    change_file: function(name) {\r\n      this.active_file = name;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scope>\r\n@import url(\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\");\r\n\r\n.dropzone-custom-title {\r\n  margin-top: 0;\r\n  color: #00b782;\r\n}\r\n\r\n.subtitle {\r\n  color: #314b5f;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload_download.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload_download.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload_download.vue?vue&type=template&id=3ef39fec&\"\nimport script from \"./upload_download.vue?vue&type=script&lang=js&\"\nexport * from \"./upload_download.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload_download.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"about\">\r\n    <h1>This is an about page</h1>\r\n  <upload_download/>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport upload_download from '@/components/upload_download.vue'\r\n\r\n\r\nexport default {\r\n  name: 'About',\r\n  components: {\r\n    upload_download\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=309f045b&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}